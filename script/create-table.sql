-- CREATE TABLE IF NOT EXISTS



-- 연계    연계 부서
DROP TABLE IF EXISTS T_IF_DEPT CASCADE;
CREATE TABLE IF NOT EXISTS T_IF_DEPT (
    DEPT_CODE VARCHAR(16) NOT NULL
  , DEPT_NM VARCHAR(100)
  , HDEPT_CODE VARCHAR(16)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , MODI_SE VARCHAR(32)
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_IF_DEPT ADD CONSTRAINT T_IF_DEPT_PK PRIMARY KEY(DEPT_CODE);
--CREATE INDEX T_IF_DEPT_IX1 ON T_IF_DEPT();
COMMENT ON COLUMN T_IF_DEPT.DEPT_CODE IS '부서 코드';
COMMENT ON COLUMN T_IF_DEPT.DEPT_NM IS '부서 명';
COMMENT ON COLUMN T_IF_DEPT.HDEPT_CODE IS '본부 코드';
COMMENT ON COLUMN T_IF_DEPT.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_IF_DEPT.MODI_SE IS '수정 구분[I: 등록 / U: 수정 / D: 삭제 / C: 완료 / R: 삭제완료]';
COMMENT ON COLUMN T_IF_DEPT.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_IF_DEPT.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_IF_DEPT.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_IF_DEPT.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_IF_DEPT IS '연계 부서[부서 연계 정보]';



-- 연계    연계 본부
DROP TABLE IF EXISTS T_IF_HDEPT CASCADE;
CREATE TABLE IF NOT EXISTS T_IF_HDEPT (
    HDEPT_CODE VARCHAR(16) NOT NULL
  , HDEPT_NM VARCHAR(100)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , MODI_SE VARCHAR(32)
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_IF_HDEPT ADD CONSTRAINT T_IF_HDEPT_PK PRIMARY KEY(HDEPT_CODE);
--CREATE INDEX T_IF_HDEPT_IX1 ON T_IF_HDEPT();
COMMENT ON COLUMN T_IF_HDEPT.HDEPT_CODE IS '본부 코드';
COMMENT ON COLUMN T_IF_HDEPT.HDEPT_NM IS '본부 명';
COMMENT ON COLUMN T_IF_HDEPT.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_IF_HDEPT.MODI_SE IS '수정 구분[I: 등록 / U: 수정 / D: 삭제 / C: 완료 / R: 삭제완료]';
COMMENT ON COLUMN T_IF_HDEPT.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_IF_HDEPT.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_IF_HDEPT.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_IF_HDEPT.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_IF_HDEPT IS '연계 본부[본부 연계 정보]';



-- 연계    연계 직위
DROP TABLE IF EXISTS T_IF_PSTN CASCADE;
CREATE TABLE IF NOT EXISTS T_IF_PSTN (
    PSTN_CODE VARCHAR(16) NOT NULL
  , PSTN_NM VARCHAR(100)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , MODI_SE VARCHAR(32)
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_IF_PSTN ADD CONSTRAINT T_IF_PSTN_PK PRIMARY KEY(PSTN_CODE);
--CREATE INDEX T_IF_PSTN_IX1 ON T_IF_PSTN();
COMMENT ON COLUMN T_IF_PSTN.PSTN_CODE IS '직위 코드';
COMMENT ON COLUMN T_IF_PSTN.PSTN_NM IS '직위 명';
COMMENT ON COLUMN T_IF_PSTN.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_IF_PSTN.MODI_SE IS '수정 구분[I: 등록 / U: 수정 / D: 삭제 / C: 완료 / R: 삭제완료]';
COMMENT ON COLUMN T_IF_PSTN.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_IF_PSTN.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_IF_PSTN.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_IF_PSTN.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_IF_PSTN IS '연계 직위[직위 연계 정보]';



-- 연계    연계 사용자
DROP TABLE IF EXISTS T_IF_USER CASCADE;
CREATE TABLE IF NOT EXISTS T_IF_USER (
    USER_ID VARCHAR(32) NOT NULL
  , USER_NM VARCHAR(100)
  , PSTN_CODE VARCHAR(16)
  , DEPT_CODE VARCHAR(16)
  , HDEPT_CODE VARCHAR(16)
  , ADOF_DEPT_CODE VARCHAR(16)
  , COMPANY_CODE VARCHAR(16)
  , DUTY_SE VARCHAR(32)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , MODI_SE VARCHAR(32)
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_IF_USER ADD CONSTRAINT T_IF_USER_PK PRIMARY KEY(USER_ID);
--CREATE INDEX T_IF_USER_IX1 ON T_IF_USER();
COMMENT ON COLUMN T_IF_USER.USER_ID IS '사용자 ID';
COMMENT ON COLUMN T_IF_USER.USER_NM IS '사용자 명';
COMMENT ON COLUMN T_IF_USER.PSTN_CODE IS '직위 코드';
COMMENT ON COLUMN T_IF_USER.DEPT_CODE IS '부서 코드';
COMMENT ON COLUMN T_IF_USER.HDEPT_CODE IS '본부 코드';
COMMENT ON COLUMN T_IF_USER.ADOF_DEPT_CODE IS '겸직 부서 코드';
COMMENT ON COLUMN T_IF_USER.COMPANY_CODE IS '회사 코드';
COMMENT ON COLUMN T_IF_USER.DUTY_SE IS '직책 구분';
COMMENT ON COLUMN T_IF_USER.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_IF_USER.MODI_SE IS '수정 구분[I: 등록 / U: 수정 / D: 삭제 / C: 완료 / R: 삭제완료]';
COMMENT ON COLUMN T_IF_USER.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_IF_USER.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_IF_USER.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_IF_USER.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_IF_USER IS '연계 사용자[사용자 연계 정보]';



-- 연계    연계 부서 분류
DROP TABLE IF EXISTS T_IF_DEPT_CL CASCADE;
CREATE TABLE IF NOT EXISTS T_IF_DEPT_CL (
    DEPT_CODE VARCHAR(16) NOT NULL
  , DEPT_NM VARCHAR(100)
  , GROUP_CODE VARCHAR(32)
  , UP_GROUP_CODE VARCHAR(32)
  , ORD_SEQ NUMERIC(5,0)
  , LV NUMERIC(5,0)
  , DEPT_PATH VARCHAR(1000)
  , MODI_SE VARCHAR(32)
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_IF_DEPT_CL ADD CONSTRAINT T_IF_DEPT_CL_PK PRIMARY KEY(DEPT_CODE);
--CREATE INDEX T_IF_DEPT_CL_IX1 ON T_IF_DEPT_CL();
COMMENT ON COLUMN T_IF_DEPT_CL.DEPT_CODE IS '부서 코드';
COMMENT ON COLUMN T_IF_DEPT_CL.DEPT_NM IS '부서 명';
COMMENT ON COLUMN T_IF_DEPT_CL.GROUP_CODE IS '그룹 코드';
COMMENT ON COLUMN T_IF_DEPT_CL.UP_GROUP_CODE IS '상위 그룹 코드';
COMMENT ON COLUMN T_IF_DEPT_CL.ORD_SEQ IS '정렬 순서';
COMMENT ON COLUMN T_IF_DEPT_CL.LV IS '레벨';
COMMENT ON COLUMN T_IF_DEPT_CL.DEPT_PATH IS '부서 경로';
COMMENT ON COLUMN T_IF_DEPT_CL.MODI_SE IS '수정 구분[I: 등록 / U: 수정 / D: 삭제 / C: 완료 / R: 삭제완료]';
COMMENT ON COLUMN T_IF_DEPT_CL.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_IF_DEPT_CL.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_IF_DEPT_CL.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_IF_DEPT_CL.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_IF_DEPT_CL IS '연계 부서 분류[부서 분류 연계 정보]';



-- 연계    연계 태블로 프로젝트
DROP TABLE IF EXISTS T_IF_TABLEAU_PROJECT CASCADE;
CREATE TABLE IF NOT EXISTS T_IF_TABLEAU_PROJECT (
    TABLEAU_PROJECT_ID VARCHAR(64) NOT NULL
  , TABLEAU_PROJECT_NM VARCHAR(200)
  , TABLEAU_PROJECT_DSC TEXT
  , UP_PROJECT_YN VARCHAR(1)
  , UP_TABLEAU_PROJECT_ID VARCHAR(64)
  , TABLEAU_USER_ID VARCHAR(64)
  , TABLEAU_PROJECT_AUTH VARCHAR(64)
  , TABLEAU_PROJECT_CNT NUMERIC(9,0)
  , TABLEAU_WORKBOOK_CNT NUMERIC(9,0)
  , TABLEAU_VIEW_CNT NUMERIC(9,0)
  , DATA_SRC_CNT NUMERIC(9,0)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , MODI_SE VARCHAR(32)
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_IF_TABLEAU_PROJECT ADD CONSTRAINT T_IF_TABLEAU_PROJECT_PK PRIMARY KEY(TABLEAU_PROJECT_ID);
--CREATE INDEX T_IF_TABLEAU_PROJECT_IX1 ON T_IF_TABLEAU_PROJECT();
COMMENT ON COLUMN T_IF_TABLEAU_PROJECT.TABLEAU_PROJECT_ID IS '태블로 프로젝트 ID';
COMMENT ON COLUMN T_IF_TABLEAU_PROJECT.TABLEAU_PROJECT_NM IS '태블로 프로젝트 명';
COMMENT ON COLUMN T_IF_TABLEAU_PROJECT.TABLEAU_PROJECT_DSC IS '태블로 프로젝트 설명';
COMMENT ON COLUMN T_IF_TABLEAU_PROJECT.UP_PROJECT_YN IS '상위 프로젝트 여부';
COMMENT ON COLUMN T_IF_TABLEAU_PROJECT.UP_TABLEAU_PROJECT_ID IS '상위 태블로 프로젝트 ID';
COMMENT ON COLUMN T_IF_TABLEAU_PROJECT.TABLEAU_USER_ID IS '태블로 사용자 ID';
COMMENT ON COLUMN T_IF_TABLEAU_PROJECT.TABLEAU_PROJECT_AUTH IS '태블로 프로젝트 권한';
COMMENT ON COLUMN T_IF_TABLEAU_PROJECT.TABLEAU_PROJECT_CNT IS '태블로 프로젝트 건수';
COMMENT ON COLUMN T_IF_TABLEAU_PROJECT.TABLEAU_WORKBOOK_CNT IS '태블로 워크북 건수';
COMMENT ON COLUMN T_IF_TABLEAU_PROJECT.TABLEAU_VIEW_CNT IS '태블로 뷰 건수';
COMMENT ON COLUMN T_IF_TABLEAU_PROJECT.DATA_SRC_CNT IS '데이터 소스 건수';
COMMENT ON COLUMN T_IF_TABLEAU_PROJECT.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_IF_TABLEAU_PROJECT.MODI_SE IS '수정 구분[I: 등록 / U: 수정 / D: 삭제 / C: 완료 / R: 삭제완료]';
COMMENT ON COLUMN T_IF_TABLEAU_PROJECT.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_IF_TABLEAU_PROJECT.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_IF_TABLEAU_PROJECT.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_IF_TABLEAU_PROJECT.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_IF_TABLEAU_PROJECT IS '연계 태블로 프로젝트[태블로 프로젝트 연계 정보]';



-- 연계    연계 태블로 워크북
DROP TABLE IF EXISTS T_IF_TABLEAU_WORKBOOK CASCADE;
CREATE TABLE IF NOT EXISTS T_IF_TABLEAU_WORKBOOK (
    TABLEAU_WORKBOOK_ID VARCHAR(64) NOT NULL
  , TABLEAU_WORKBOOK_NM VARCHAR(200)
  , TABLEAU_WORKBOOK_DSC TEXT
  , TABLEAU_WORKBOOK_URL VARCHAR(256)
  , TABLEAU_WEB_URL VARCHAR(256)
  , TABLEAU_VIEW_ID VARCHAR(64)
  , TABLEAU_PROJECT_ID VARCHAR(64)
  , TABLEAU_USER_ID VARCHAR(64)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , MODI_SE VARCHAR(32)
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_IF_TABLEAU_WORKBOOK ADD CONSTRAINT T_IF_TABLEAU_WORKBOOK_PK PRIMARY KEY(TABLEAU_WORKBOOK_ID);
--CREATE INDEX T_IF_TABLEAU_WORKBOOK_IX1 ON T_IF_TABLEAU_WORKBOOK();
COMMENT ON COLUMN T_IF_TABLEAU_WORKBOOK.TABLEAU_WORKBOOK_ID IS '태블로 워크북 ID';
COMMENT ON COLUMN T_IF_TABLEAU_WORKBOOK.TABLEAU_WORKBOOK_NM IS '태블로 워크북 명';
COMMENT ON COLUMN T_IF_TABLEAU_WORKBOOK.TABLEAU_WORKBOOK_DSC IS '태블로 워크북 설명';
COMMENT ON COLUMN T_IF_TABLEAU_WORKBOOK.TABLEAU_WORKBOOK_URL IS '태블로 워크북 URL';
COMMENT ON COLUMN T_IF_TABLEAU_WORKBOOK.TABLEAU_WEB_URL IS '태블로 웹 URL';
COMMENT ON COLUMN T_IF_TABLEAU_WORKBOOK.TABLEAU_VIEW_ID IS '태블로 뷰 ID[기본 태블로 뷰 ID]';
COMMENT ON COLUMN T_IF_TABLEAU_WORKBOOK.TABLEAU_PROJECT_ID IS '태블로 프로젝트 ID';
COMMENT ON COLUMN T_IF_TABLEAU_WORKBOOK.TABLEAU_USER_ID IS '태블로 사용자 ID';
COMMENT ON COLUMN T_IF_TABLEAU_WORKBOOK.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_IF_TABLEAU_WORKBOOK.MODI_SE IS '수정 구분[I: 등록 / U: 수정 / D: 삭제 / C: 완료 / R: 삭제완료]';
COMMENT ON COLUMN T_IF_TABLEAU_WORKBOOK.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_IF_TABLEAU_WORKBOOK.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_IF_TABLEAU_WORKBOOK.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_IF_TABLEAU_WORKBOOK.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_IF_TABLEAU_WORKBOOK IS '연계 태블로 워크북[태블로 워크북 연계 정보]';



-- 연계    연계 태블로 뷰
DROP TABLE IF EXISTS T_IF_TABLEAU_VIEW CASCADE;
CREATE TABLE IF NOT EXISTS T_IF_TABLEAU_VIEW (
    TABLEAU_VIEW_ID VARCHAR(64) NOT NULL
  , TABLEAU_VIEW_NM VARCHAR(200)
  , TABLEAU_VIEW_URL VARCHAR(256)
  , TABLEAU_WORKBOOK_ID VARCHAR(64)
  , TABLEAU_USER_ID VARCHAR(64)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , MODI_SE VARCHAR(32)
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_IF_TABLEAU_VIEW ADD CONSTRAINT T_IF_TABLEAU_VIEW_PK PRIMARY KEY(TABLEAU_VIEW_ID);
--CREATE INDEX T_IF_TABLEAU_VIEW_IX1 ON T_IF_TABLEAU_VIEW();
COMMENT ON COLUMN T_IF_TABLEAU_VIEW.TABLEAU_VIEW_ID IS '태블로 뷰 ID';
COMMENT ON COLUMN T_IF_TABLEAU_VIEW.TABLEAU_VIEW_NM IS '태블로 뷰 명';
COMMENT ON COLUMN T_IF_TABLEAU_VIEW.TABLEAU_VIEW_URL IS '태블로 뷰 URL';
COMMENT ON COLUMN T_IF_TABLEAU_VIEW.TABLEAU_WORKBOOK_ID IS '태블로 워크북 ID';
COMMENT ON COLUMN T_IF_TABLEAU_VIEW.TABLEAU_USER_ID IS '태블로 사용자 ID';
COMMENT ON COLUMN T_IF_TABLEAU_VIEW.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_IF_TABLEAU_VIEW.MODI_SE IS '수정 구분[I: 등록 / U: 수정 / D: 삭제 / C: 완료 / R: 삭제완료]';
COMMENT ON COLUMN T_IF_TABLEAU_VIEW.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_IF_TABLEAU_VIEW.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_IF_TABLEAU_VIEW.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_IF_TABLEAU_VIEW.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_IF_TABLEAU_VIEW IS '연계 태블로 뷰[태블로 뷰 연계 정보]';



-- 연계    연계 태블로 사용자
DROP TABLE IF EXISTS T_IF_TABLEAU_USER CASCADE;
CREATE TABLE IF NOT EXISTS T_IF_TABLEAU_USER (
    TABLEAU_USER_ID VARCHAR(64) NOT NULL
  , TABLEAU_USER_NM VARCHAR(200)
  , USER_ID VARCHAR(32)
  , TABLEAU_PW VARCHAR(256)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , MODI_SE VARCHAR(32)
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_IF_TABLEAU_USER ADD CONSTRAINT T_IF_TABLEAU_USER_PK PRIMARY KEY(TABLEAU_USER_ID);
--CREATE INDEX T_IF_TABLEAU_USER_IX1 ON T_IF_TABLEAU_USER();
COMMENT ON COLUMN T_IF_TABLEAU_USER.TABLEAU_USER_ID IS '태블로 사용자 ID';
COMMENT ON COLUMN T_IF_TABLEAU_USER.TABLEAU_USER_NM IS '태블로 사용자 명';
COMMENT ON COLUMN T_IF_TABLEAU_USER.USER_ID IS '사용자 ID';
COMMENT ON COLUMN T_IF_TABLEAU_USER.TABLEAU_PW IS '태블로 비밀번호';
COMMENT ON COLUMN T_IF_TABLEAU_USER.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_IF_TABLEAU_USER.MODI_SE IS '수정 구분[I: 등록 / U: 수정 / D: 삭제 / C: 완료 / R: 삭제완료]';
COMMENT ON COLUMN T_IF_TABLEAU_USER.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_IF_TABLEAU_USER.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_IF_TABLEAU_USER.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_IF_TABLEAU_USER.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_IF_TABLEAU_USER IS '연계 태블로 사용자[태블로 사용자 연계 정보]';



-- 로그    로그 참조 정보
DROP TABLE IF EXISTS T_LOG_REF_INFO CASCADE;
CREATE TABLE IF NOT EXISTS T_LOG_REF_INFO (
    SYS_SE VARCHAR(32) NOT NULL
  , CONTROLLER_NM VARCHAR(256) NOT NULL
  , METHOD_NM VARCHAR(256) NOT NULL
  , PROGRAM_NM VARCHAR(256) NOT NULL
  , RGST_ID VARCHAR(32)
  , RGST_DT TIMESTAMP
);
ALTER TABLE T_LOG_REF_INFO ADD CONSTRAINT T_LOG_REF_INFO_PK PRIMARY KEY(SYS_SE, CONTROLLER_NM, METHOD_NM);
--CREATE INDEX T_LOG_REF_INFO_IX1 ON T_LOG_REF_INFO();
COMMENT ON COLUMN T_LOG_REF_INFO.SYS_SE IS '시스템 구분';
COMMENT ON COLUMN T_LOG_REF_INFO.CONTROLLER_NM IS '컨트롤러 명';
COMMENT ON COLUMN T_LOG_REF_INFO.METHOD_NM IS '메소드 명';
COMMENT ON COLUMN T_LOG_REF_INFO.PROGRAM_NM IS '프로그램 명';
COMMENT ON COLUMN T_LOG_REF_INFO.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_LOG_REF_INFO.RGST_DT IS '등록 일시';
COMMENT ON TABLE T_LOG_REF_INFO IS '로그 참조 정보[접속 로그 참조 정보]';



-- 로그    로그 연계
DROP TABLE IF EXISTS T_LOG_IF CASCADE;
CREATE TABLE IF NOT EXISTS T_LOG_IF (
    LOG_DT TIMESTAMP NOT NULL
  , IF_TY VARCHAR(32) NOT NULL
  , SERVER_IP VARCHAR(45)
  , START_DT TIMESTAMP
  , END_DT TIMESTAMP
  , RSLT_CODE VARCHAR(16)
  , MSG JSONB
  , ERR_MSG TEXT
);
--ALTER TABLE T_LOG_IF ADD CONSTRAINT T_LOG_IF_PK PRIMARY KEY();
CREATE INDEX T_LOG_IF_IX1 ON T_LOG_IF(IF_TY, LOG_DT);
COMMENT ON COLUMN T_LOG_IF.LOG_DT IS '로그 일시';
COMMENT ON COLUMN T_LOG_IF.IF_TY IS '연계 타입';
COMMENT ON COLUMN T_LOG_IF.SERVER_IP IS '서버 IP';
COMMENT ON COLUMN T_LOG_IF.START_DT IS '시작 일시';
COMMENT ON COLUMN T_LOG_IF.END_DT IS '종료 일시';
COMMENT ON COLUMN T_LOG_IF.RSLT_CODE IS '결과 코드';
COMMENT ON COLUMN T_LOG_IF.MSG IS '메시지';
COMMENT ON COLUMN T_LOG_IF.ERR_MSG IS '에러 메시지';
COMMENT ON TABLE T_LOG_IF IS '로그 연계[연계 로그 및 스케줄 로그]';



-- 로그    로그 요청 관리자 시스템
DROP TABLE IF EXISTS T_LOG_RQST_MGR_SYS CASCADE;
CREATE TABLE IF NOT EXISTS T_LOG_RQST_MGR_SYS (
    LOG_DT TIMESTAMP NOT NULL
  , USER_ID VARCHAR(32) NOT NULL
  , USER_NM VARCHAR(100)
  , PSTN_CODE VARCHAR(16)
  , PSTN_NM VARCHAR(100)
  , DEPT_CODE VARCHAR(16)
  , DEPT_NM VARCHAR(100)
  , AUTH_ID VARCHAR(32)
  , AUTH_NM VARCHAR(100)
  , CLIENT_IP VARCHAR(45)
  , SERVER_IP VARCHAR(45)
  , RQST_METHOD VARCHAR(16)
  , RQST_URI VARCHAR(256)
  , PROGRAM_NM VARCHAR(256)
  , CONTROLLER_NM VARCHAR(256)
  , METHOD_NM VARCHAR(256)
  , MSG JSONB
);
--ALTER TABLE T_LOG_RQST_MGR_SYS ADD CONSTRAINT T_LOG_RQST_MGR_SYS_PK PRIMARY KEY();
CREATE INDEX T_LOG_RQST_MGR_SYS_IX1 ON T_LOG_RQST_MGR_SYS(USER_ID, LOG_DT);
COMMENT ON COLUMN T_LOG_RQST_MGR_SYS.LOG_DT IS '로그 일시';
COMMENT ON COLUMN T_LOG_RQST_MGR_SYS.USER_ID IS '사용자 ID';
COMMENT ON COLUMN T_LOG_RQST_MGR_SYS.USER_NM IS '사용자 명';
COMMENT ON COLUMN T_LOG_RQST_MGR_SYS.PSTN_CODE IS '직위 코드';
COMMENT ON COLUMN T_LOG_RQST_MGR_SYS.PSTN_NM IS '직위 명';
COMMENT ON COLUMN T_LOG_RQST_MGR_SYS.DEPT_CODE IS '부서 코드';
COMMENT ON COLUMN T_LOG_RQST_MGR_SYS.DEPT_NM IS '부서 명';
COMMENT ON COLUMN T_LOG_RQST_MGR_SYS.AUTH_ID IS '권한 ID';
COMMENT ON COLUMN T_LOG_RQST_MGR_SYS.AUTH_NM IS '권한 명';
COMMENT ON COLUMN T_LOG_RQST_MGR_SYS.CLIENT_IP IS '클라이언트 IP';
COMMENT ON COLUMN T_LOG_RQST_MGR_SYS.SERVER_IP IS '서버 IP';
COMMENT ON COLUMN T_LOG_RQST_MGR_SYS.RQST_METHOD IS '요청 메소드';
COMMENT ON COLUMN T_LOG_RQST_MGR_SYS.RQST_URI IS '요청 URI';
COMMENT ON COLUMN T_LOG_RQST_MGR_SYS.PROGRAM_NM IS '프로그램 명';
COMMENT ON COLUMN T_LOG_RQST_MGR_SYS.CONTROLLER_NM IS '컨트롤러 명';
COMMENT ON COLUMN T_LOG_RQST_MGR_SYS.METHOD_NM IS '메소드 명';
COMMENT ON COLUMN T_LOG_RQST_MGR_SYS.MSG IS '메시지';
COMMENT ON TABLE T_LOG_RQST_MGR_SYS IS '로그 요청 관리자 시스템[관리자 시스템 요청 로그]';



-- 로그    로그 요청 사용자 시스템
DROP TABLE IF EXISTS T_LOG_RQST_USER_SYS CASCADE;
CREATE TABLE IF NOT EXISTS T_LOG_RQST_USER_SYS (
    LOG_DT TIMESTAMP NOT NULL
  , USER_ID VARCHAR(32) NOT NULL
  , USER_NM VARCHAR(100)
  , PSTN_CODE VARCHAR(16)
  , PSTN_NM VARCHAR(100)
  , DEPT_CODE VARCHAR(16)
  , DEPT_NM VARCHAR(100)
  , AUTH_ID VARCHAR(32)
  , AUTH_NM VARCHAR(100)
  , CLIENT_IP VARCHAR(45)
  , SERVER_IP VARCHAR(45)
  , RQST_METHOD VARCHAR(16)
  , RQST_URI VARCHAR(256)
  , PROGRAM_NM VARCHAR(256)
  , CONTROLLER_NM VARCHAR(256)
  , METHOD_NM VARCHAR(256)
  , MSG JSONB
);
--ALTER TABLE T_LOG_RQST_USER_SYS ADD CONSTRAINT T_LOG_RQST_USER_SYS_PK PRIMARY KEY();
CREATE INDEX T_LOG_RQST_USER_SYS_IX1 ON T_LOG_RQST_USER_SYS(USER_ID, LOG_DT);
COMMENT ON COLUMN T_LOG_RQST_USER_SYS.LOG_DT IS '로그 일시';
COMMENT ON COLUMN T_LOG_RQST_USER_SYS.USER_ID IS '사용자 ID';
COMMENT ON COLUMN T_LOG_RQST_USER_SYS.USER_NM IS '사용자 명';
COMMENT ON COLUMN T_LOG_RQST_USER_SYS.PSTN_CODE IS '직위 코드';
COMMENT ON COLUMN T_LOG_RQST_USER_SYS.PSTN_NM IS '직위 명';
COMMENT ON COLUMN T_LOG_RQST_USER_SYS.DEPT_CODE IS '부서 코드';
COMMENT ON COLUMN T_LOG_RQST_USER_SYS.DEPT_NM IS '부서 명';
COMMENT ON COLUMN T_LOG_RQST_USER_SYS.AUTH_ID IS '권한 ID';
COMMENT ON COLUMN T_LOG_RQST_USER_SYS.AUTH_NM IS '권한 명';
COMMENT ON COLUMN T_LOG_RQST_USER_SYS.CLIENT_IP IS '클라이언트 IP';
COMMENT ON COLUMN T_LOG_RQST_USER_SYS.SERVER_IP IS '서버 IP';
COMMENT ON COLUMN T_LOG_RQST_USER_SYS.RQST_METHOD IS '요청 메소드';
COMMENT ON COLUMN T_LOG_RQST_USER_SYS.RQST_URI IS '요청 URI';
COMMENT ON COLUMN T_LOG_RQST_USER_SYS.PROGRAM_NM IS '프로그램 명';
COMMENT ON COLUMN T_LOG_RQST_USER_SYS.CONTROLLER_NM IS '컨트롤러 명';
COMMENT ON COLUMN T_LOG_RQST_USER_SYS.METHOD_NM IS '메소드 명';
COMMENT ON COLUMN T_LOG_RQST_USER_SYS.MSG IS '메시지';
COMMENT ON TABLE T_LOG_RQST_USER_SYS IS '로그 요청 사용자 시스템[사용자 시스템 요청 로그]';



-- 로그    로그 검색 키워드
DROP TABLE IF EXISTS T_LOG_SRCH_KWD CASCADE;
CREATE TABLE IF NOT EXISTS T_LOG_SRCH_KWD (
    LOG_DT TIMESTAMP NOT NULL
  , USER_ID VARCHAR(32) NOT NULL
  , SRCH_CL VARCHAR(32) NOT NULL
  , SRCH_KWD VARCHAR(100) NOT NULL
);
--ALTER TABLE T_LOG_SRCH_KWD ADD CONSTRAINT T_LOG_SRCH_KWD_PK PRIMARY KEY();
CREATE INDEX T_LOG_SRCH_KWD_IX1 ON T_LOG_SRCH_KWD(SRCH_KWD, LOG_DT);
CREATE INDEX T_LOG_SRCH_KWD_IX2 ON T_LOG_SRCH_KWD(SRCH_CL, SRCH_KWD);
COMMENT ON COLUMN T_LOG_SRCH_KWD.LOG_DT IS '로그 일시';
COMMENT ON COLUMN T_LOG_SRCH_KWD.USER_ID IS '사용자 ID';
COMMENT ON COLUMN T_LOG_SRCH_KWD.SRCH_CL IS '검색 분류';
COMMENT ON COLUMN T_LOG_SRCH_KWD.SRCH_KWD IS '검색 키워드';
COMMENT ON TABLE T_LOG_SRCH_KWD IS '로그 검색 키워드[검색 키워드 로그]';



-- 로그    로그 태블로 관리자 시스템
DROP TABLE IF EXISTS T_LOG_TABLEAU_MGR_SYS CASCADE;
CREATE TABLE IF NOT EXISTS T_LOG_TABLEAU_MGR_SYS (
    LOG_DT TIMESTAMP NOT NULL
  , USER_ID VARCHAR(32) NOT NULL
  , USER_NM VARCHAR(100)
  , PSTN_CODE VARCHAR(16)
  , PSTN_NM VARCHAR(100)
  , DEPT_CODE VARCHAR(16)
  , DEPT_NM VARCHAR(100)
  , REPORT_ID VARCHAR(32)
  , VER NUMERIC(9,3)
  , TABLEAU_WORKBOOK_ID VARCHAR(64)
  , TABLEAU_PARAM JSONB
  , TABLEAU_USER_ID VARCHAR(64)
);
--ALTER TABLE T_LOG_TABLEAU_MGR_SYS ADD CONSTRAINT T_LOG_TABLEAU_MGR_SYS_PK PRIMARY KEY();
CREATE INDEX T_LOG_TABLEAU_MGR_SYS_IX1 ON T_LOG_TABLEAU_MGR_SYS(USER_ID, LOG_DT);
COMMENT ON COLUMN T_LOG_TABLEAU_MGR_SYS.LOG_DT IS '로그 일시';
COMMENT ON COLUMN T_LOG_TABLEAU_MGR_SYS.USER_ID IS '사용자 ID';
COMMENT ON COLUMN T_LOG_TABLEAU_MGR_SYS.USER_NM IS '사용자 명';
COMMENT ON COLUMN T_LOG_TABLEAU_MGR_SYS.PSTN_CODE IS '직위 코드';
COMMENT ON COLUMN T_LOG_TABLEAU_MGR_SYS.PSTN_NM IS '직위 명';
COMMENT ON COLUMN T_LOG_TABLEAU_MGR_SYS.DEPT_CODE IS '부서 코드';
COMMENT ON COLUMN T_LOG_TABLEAU_MGR_SYS.DEPT_NM IS '부서 명';
COMMENT ON COLUMN T_LOG_TABLEAU_MGR_SYS.REPORT_ID IS '보고서 ID';
COMMENT ON COLUMN T_LOG_TABLEAU_MGR_SYS.VER IS '버전';
COMMENT ON COLUMN T_LOG_TABLEAU_MGR_SYS.TABLEAU_WORKBOOK_ID IS '태블로 워크북 ID';
COMMENT ON COLUMN T_LOG_TABLEAU_MGR_SYS.TABLEAU_PARAM IS '태블로 파라메터';
COMMENT ON COLUMN T_LOG_TABLEAU_MGR_SYS.TABLEAU_USER_ID IS '태블로 사용자 ID';
COMMENT ON TABLE T_LOG_TABLEAU_MGR_SYS IS '로그 태블로 관리자 시스템[관리자 시스템 태블로 로그]';



-- 로그    로그 태블로 사용자 시스템
DROP TABLE IF EXISTS T_LOG_TABLEAU_USER_SYS CASCADE;
CREATE TABLE IF NOT EXISTS T_LOG_TABLEAU_USER_SYS (
    LOG_DT TIMESTAMP NOT NULL
  , USER_ID VARCHAR(32) NOT NULL
  , USER_NM VARCHAR(100)
  , PSTN_CODE VARCHAR(16)
  , PSTN_NM VARCHAR(100)
  , DEPT_CODE VARCHAR(16)
  , DEPT_NM VARCHAR(100)
  , REPORT_ID VARCHAR(32)
  , VER NUMERIC(9,3)
  , TABLEAU_WORKBOOK_ID VARCHAR(64)
  , TABLEAU_PARAM JSONB
  , TABLEAU_USER_ID VARCHAR(64)
);
--ALTER TABLE T_LOG_TABLEAU_USER_SYS ADD CONSTRAINT T_LOG_TABLEAU_USER_SYS_PK PRIMARY KEY();
CREATE INDEX T_LOG_TABLEAU_USER_SYS_IX1 ON T_LOG_TABLEAU_USER_SYS(USER_ID, LOG_DT);
COMMENT ON COLUMN T_LOG_TABLEAU_USER_SYS.LOG_DT IS '로그 일시';
COMMENT ON COLUMN T_LOG_TABLEAU_USER_SYS.USER_ID IS '사용자 ID';
COMMENT ON COLUMN T_LOG_TABLEAU_USER_SYS.USER_NM IS '사용자 명';
COMMENT ON COLUMN T_LOG_TABLEAU_USER_SYS.PSTN_CODE IS '직위 코드';
COMMENT ON COLUMN T_LOG_TABLEAU_USER_SYS.PSTN_NM IS '직위 명';
COMMENT ON COLUMN T_LOG_TABLEAU_USER_SYS.DEPT_CODE IS '부서 코드';
COMMENT ON COLUMN T_LOG_TABLEAU_USER_SYS.DEPT_NM IS '부서 명';
COMMENT ON COLUMN T_LOG_TABLEAU_USER_SYS.REPORT_ID IS '보고서 ID';
COMMENT ON COLUMN T_LOG_TABLEAU_USER_SYS.VER IS '버전';
COMMENT ON COLUMN T_LOG_TABLEAU_USER_SYS.TABLEAU_WORKBOOK_ID IS '태블로 워크북 ID';
COMMENT ON COLUMN T_LOG_TABLEAU_USER_SYS.TABLEAU_PARAM IS '태블로 파라메터';
COMMENT ON COLUMN T_LOG_TABLEAU_USER_SYS.TABLEAU_USER_ID IS '태블로 사용자 ID';
COMMENT ON TABLE T_LOG_TABLEAU_USER_SYS IS '로그 태블로 사용자 시스템[사용자 시스템 태블로 로그]';



-- 이력    부서 이력
DROP TABLE IF EXISTS T_DEPT_HIST CASCADE;
CREATE TABLE IF NOT EXISTS T_DEPT_HIST (
    HIST_DT TIMESTAMP NOT NULL
  , DEPT_CODE VARCHAR(16) NOT NULL
  , DEPT_NM VARCHAR(100)
  , HDEPT_CODE VARCHAR(16)
  , USE_YN VARCHAR(1)
  , MODI_SE VARCHAR(32)
  , RGST_ID VARCHAR(32)
  , RGST_DT TIMESTAMP
  , MODI_ID VARCHAR(32)
  , MODI_DT TIMESTAMP
);
--ALTER TABLE T_DEPT_HIST ADD CONSTRAINT T_DEPT_HIST_PK PRIMARY KEY();
CREATE INDEX T_DEPT_HIST_IX1 ON T_DEPT_HIST(DEPT_CODE, HIST_DT);
COMMENT ON COLUMN T_DEPT_HIST.HIST_DT IS '이력 일시';
COMMENT ON COLUMN T_DEPT_HIST.DEPT_CODE IS '부서 코드';
COMMENT ON COLUMN T_DEPT_HIST.DEPT_NM IS '부서 명';
COMMENT ON COLUMN T_DEPT_HIST.HDEPT_CODE IS '본부 코드';
COMMENT ON COLUMN T_DEPT_HIST.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_DEPT_HIST.MODI_SE IS '수정 구분';
COMMENT ON COLUMN T_DEPT_HIST.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_DEPT_HIST.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_DEPT_HIST.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_DEPT_HIST.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_DEPT_HIST IS '부서 이력[부서 정보 이력]';



-- 이력    본부 이력
DROP TABLE IF EXISTS T_HDEPT_HIST CASCADE;
CREATE TABLE IF NOT EXISTS T_HDEPT_HIST (
    HIST_DT TIMESTAMP NOT NULL
  , HDEPT_CODE VARCHAR(16) NOT NULL
  , HDEPT_NM VARCHAR(100)
  , USE_YN VARCHAR(1)
  , MODI_SE VARCHAR(32)
  , RGST_ID VARCHAR(32)
  , RGST_DT TIMESTAMP
  , MODI_ID VARCHAR(32)
  , MODI_DT TIMESTAMP
);
--ALTER TABLE T_HDEPT_HIST ADD CONSTRAINT T_HDEPT_HIST_PK PRIMARY KEY();
CREATE INDEX T_HDEPT_HIST_IX1 ON T_HDEPT_HIST(HDEPT_CODE, HIST_DT);
COMMENT ON COLUMN T_HDEPT_HIST.HIST_DT IS '이력 일시';
COMMENT ON COLUMN T_HDEPT_HIST.HDEPT_CODE IS '본부 코드';
COMMENT ON COLUMN T_HDEPT_HIST.HDEPT_NM IS '본부 명';
COMMENT ON COLUMN T_HDEPT_HIST.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_HDEPT_HIST.MODI_SE IS '수정 구분';
COMMENT ON COLUMN T_HDEPT_HIST.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_HDEPT_HIST.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_HDEPT_HIST.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_HDEPT_HIST.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_HDEPT_HIST IS '본부 이력[본부 정보 이력]';



-- 이력    직위 이력
DROP TABLE IF EXISTS T_PSTN_HIST CASCADE;
CREATE TABLE IF NOT EXISTS T_PSTN_HIST (
    HIST_DT TIMESTAMP NOT NULL
  , PSTN_CODE VARCHAR(16) NOT NULL
  , PSTN_NM VARCHAR(100)
  , USE_YN VARCHAR(1)
  , MODI_SE VARCHAR(32)
  , RGST_ID VARCHAR(32)
  , RGST_DT TIMESTAMP
  , MODI_ID VARCHAR(32)
  , MODI_DT TIMESTAMP
);
--ALTER TABLE T_PSTN_HIST ADD CONSTRAINT T_PSTN_HIST_PK PRIMARY KEY();
CREATE INDEX T_PSTN_HIST_IX1 ON T_PSTN_HIST(PSTN_CODE, HIST_DT);
COMMENT ON COLUMN T_PSTN_HIST.HIST_DT IS '이력 일시';
COMMENT ON COLUMN T_PSTN_HIST.PSTN_CODE IS '직위 코드';
COMMENT ON COLUMN T_PSTN_HIST.PSTN_NM IS '직위 명';
COMMENT ON COLUMN T_PSTN_HIST.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_PSTN_HIST.MODI_SE IS '수정 구분';
COMMENT ON COLUMN T_PSTN_HIST.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_PSTN_HIST.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_PSTN_HIST.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_PSTN_HIST.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_PSTN_HIST IS '직위 이력[직위 정보 이력]';



-- 이력    사용자 이력
DROP TABLE IF EXISTS T_USER_HIST CASCADE;
CREATE TABLE IF NOT EXISTS T_USER_HIST (
    HIST_DT TIMESTAMP NOT NULL
  , USER_ID VARCHAR(32) NOT NULL
  , USER_NM VARCHAR(100)
  , PSTN_CODE VARCHAR(16)
  , PSTN_NM VARCHAR(100)
  , DEPT_CODE VARCHAR(16)
  , DEPT_NM VARCHAR(100)
  , HDEPT_CODE VARCHAR(16)
  , HDEPT_NM VARCHAR(100)
  , ADOF_DEPT_CODE VARCHAR(16)
  , ADOF_DEPT_NM VARCHAR(100)
  , COMPANY_CODE VARCHAR(16)
  , COMPANY_NM VARCHAR(100)
  , DUTY_SE VARCHAR(32)
  , LAST_LOG_DT TIMESTAMP
  , START_DT TIMESTAMP
  , END_DT TIMESTAMP
  , FILE_URL VARCHAR(256)
  , MGR_AUTH_ID VARCHAR(32)
  , MGR_AUTH_CL VARCHAR(32)
  , MGR_AUTH_NM VARCHAR(100)
  , MGR_AUTH_USE_YN VARCHAR(1)
  , USER_AUTH_ID VARCHAR(32)
  , USER_AUTH_CL VARCHAR(32)
  , USER_AUTH_NM VARCHAR(100)
  , USER_AUTH_USE_YN VARCHAR(1)
  , MGR_SYS_ENV JSONB
  , USER_SYS_HOME VARCHAR(32)
  , USER_SYS_ENV JSONB
  , BF_DEPT_CODE VARCHAR(16)
  , DEPT_UPDT_DT TIMESTAMP
  , USE_YN VARCHAR(1)
  , MODI_SE VARCHAR(32)
  , RGST_ID VARCHAR(32)
  , RGST_DT TIMESTAMP
  , MODI_ID VARCHAR(32)
  , MODI_DT TIMESTAMP
);
--ALTER TABLE T_USER_HIST ADD CONSTRAINT T_USER_HIST_PK PRIMARY KEY();
CREATE INDEX T_USER_HIST_IX1 ON T_USER_HIST(USER_ID, HIST_DT);
COMMENT ON COLUMN T_USER_HIST.HIST_DT IS '이력 일시';
COMMENT ON COLUMN T_USER_HIST.USER_ID IS '사용자 ID';
COMMENT ON COLUMN T_USER_HIST.USER_NM IS '사용자 명';
COMMENT ON COLUMN T_USER_HIST.PSTN_CODE IS '직위 코드';
COMMENT ON COLUMN T_USER_HIST.PSTN_NM IS '직위 명';
COMMENT ON COLUMN T_USER_HIST.DEPT_CODE IS '부서 코드';
COMMENT ON COLUMN T_USER_HIST.DEPT_NM IS '부서 명';
COMMENT ON COLUMN T_USER_HIST.HDEPT_CODE IS '본부 코드';
COMMENT ON COLUMN T_USER_HIST.HDEPT_NM IS '본부 명';
COMMENT ON COLUMN T_USER_HIST.ADOF_DEPT_CODE IS '겸직 부서 코드';
COMMENT ON COLUMN T_USER_HIST.ADOF_DEPT_NM IS '겸직 부서 명';
COMMENT ON COLUMN T_USER_HIST.COMPANY_CODE IS '회사 코드';
COMMENT ON COLUMN T_USER_HIST.COMPANY_NM IS '회사 명';
COMMENT ON COLUMN T_USER_HIST.DUTY_SE IS '직책 구분';
COMMENT ON COLUMN T_USER_HIST.LAST_LOG_DT IS '마지막 로그 일시';
COMMENT ON COLUMN T_USER_HIST.START_DT IS '시작 일시';
COMMENT ON COLUMN T_USER_HIST.END_DT IS '종료 일시';
COMMENT ON COLUMN T_USER_HIST.FILE_URL IS '파일 URL';
COMMENT ON COLUMN T_USER_HIST.MGR_AUTH_ID IS '관리자 권한 ID';
COMMENT ON COLUMN T_USER_HIST.MGR_AUTH_CL IS '관리자 권한 분류';
COMMENT ON COLUMN T_USER_HIST.MGR_AUTH_NM IS '관리자 권한 명';
COMMENT ON COLUMN T_USER_HIST.MGR_AUTH_USE_YN IS '관리자 권한 사용 여부';
COMMENT ON COLUMN T_USER_HIST.USER_AUTH_ID IS '사용자 권한 ID';
COMMENT ON COLUMN T_USER_HIST.USER_AUTH_CL IS '사용자 권한 분류';
COMMENT ON COLUMN T_USER_HIST.USER_AUTH_NM IS '사용자 권한 명';
COMMENT ON COLUMN T_USER_HIST.USER_AUTH_USE_YN IS '사용자 권한 사용 여부';
COMMENT ON COLUMN T_USER_HIST.MGR_SYS_ENV IS '관리자 시스템 환경';
COMMENT ON COLUMN T_USER_HIST.USER_SYS_HOME IS '사용자 시스템 홈';
COMMENT ON COLUMN T_USER_HIST.USER_SYS_ENV IS '사용자 시스템 환경';
COMMENT ON COLUMN T_USER_HIST.BF_DEPT_CODE IS '이전 부서 코드';
COMMENT ON COLUMN T_USER_HIST.DEPT_UPDT_DT IS '부서 변경 일시';
COMMENT ON COLUMN T_USER_HIST.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_USER_HIST.MODI_SE IS '수정 구분';
COMMENT ON COLUMN T_USER_HIST.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_USER_HIST.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_USER_HIST.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_USER_HIST.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_USER_HIST IS '사용자 이력[사용자 정보 이력]';



-- 이력    프로젝트 이력
DROP TABLE IF EXISTS T_PROJECT_HIST CASCADE;
CREATE TABLE IF NOT EXISTS T_PROJECT_HIST (
    HIST_DT TIMESTAMP NOT NULL
  , PROJECT_ID VARCHAR(32) NOT NULL
  , VER NUMERIC(9,3) NOT NULL
  , PROJECT_NM VARCHAR(100)
  , PROJECT_CL VARCHAR(32)
  , PROJECT_TY VARCHAR(32)
  , PROJECT_SE VARCHAR(32)
  , PCPT_INFO JSONB
  , MGR_INFO JSONB
  , DEPT_CODE VARCHAR(16)
  , DEPT_INFO JSONB
  , PROJECT_DATA JSONB
  , PROJECT_RSRC JSONB
  , START_DT TIMESTAMP
  , END_DT TIMESTAMP
  , PROJECT_DSC VARCHAR(1000)
  , PROJECT_STAT VARCHAR(32)
  , TABLEAU_PROJECT_ID VARCHAR(64)
  , ACTIVE_YN VARCHAR(1)
  , LAST_VER_YN VARCHAR(1)
  , APRV_STAT VARCHAR(32)
  , ORD_SEQ NUMERIC(5,0)
  , MAIN_PICR_ID VARCHAR(32)
  , SUB_PICR_ID VARCHAR(32)
  , USE_YN VARCHAR(1)
  , RGST_ID VARCHAR(32)
  , RGST_DT TIMESTAMP
  , MODI_ID VARCHAR(32)
  , MODI_DT TIMESTAMP
);
--ALTER TABLE T_PROJECT_HIST ADD CONSTRAINT T_PROJECT_HIST_PK PRIMARY KEY();
CREATE INDEX T_PROJECT_HIST_IX1 ON T_PROJECT_HIST(PROJECT_ID, VER, HIST_DT);
COMMENT ON COLUMN T_PROJECT_HIST.HIST_DT IS '이력 일시';
COMMENT ON COLUMN T_PROJECT_HIST.PROJECT_ID IS '프로젝트 ID';
COMMENT ON COLUMN T_PROJECT_HIST.VER IS '버전';
COMMENT ON COLUMN T_PROJECT_HIST.PROJECT_NM IS '프로젝트 명';
COMMENT ON COLUMN T_PROJECT_HIST.PROJECT_CL IS '프로젝트 분류';
COMMENT ON COLUMN T_PROJECT_HIST.PROJECT_TY IS '프로젝트 타입';
COMMENT ON COLUMN T_PROJECT_HIST.PROJECT_SE IS '프로젝트 구분';
COMMENT ON COLUMN T_PROJECT_HIST.PCPT_INFO IS '참여자 정보';
COMMENT ON COLUMN T_PROJECT_HIST.MGR_INFO IS '관리자 정보';
COMMENT ON COLUMN T_PROJECT_HIST.DEPT_CODE IS '부서 코드';
COMMENT ON COLUMN T_PROJECT_HIST.DEPT_INFO IS '부서 정보';
COMMENT ON COLUMN T_PROJECT_HIST.PROJECT_DATA IS '프로젝트 데이터';
COMMENT ON COLUMN T_PROJECT_HIST.PROJECT_RSRC IS '프로젝트 자원';
COMMENT ON COLUMN T_PROJECT_HIST.START_DT IS '시작 일시';
COMMENT ON COLUMN T_PROJECT_HIST.END_DT IS '종료 일시';
COMMENT ON COLUMN T_PROJECT_HIST.PROJECT_DSC IS '프로젝트 설명';
COMMENT ON COLUMN T_PROJECT_HIST.PROJECT_STAT IS '프로젝트 상태';
COMMENT ON COLUMN T_PROJECT_HIST.TABLEAU_PROJECT_ID IS '태블로 프로젝트 ID';
COMMENT ON COLUMN T_PROJECT_HIST.ACTIVE_YN IS '활성 여부';
COMMENT ON COLUMN T_PROJECT_HIST.LAST_VER_YN IS '마지막 버전 여부';
COMMENT ON COLUMN T_PROJECT_HIST.APRV_STAT IS '승인 상태';
COMMENT ON COLUMN T_PROJECT_HIST.ORD_SEQ IS '정렬 순서';
COMMENT ON COLUMN T_PROJECT_HIST.MAIN_PICR_ID IS '메인 담당자 ID';
COMMENT ON COLUMN T_PROJECT_HIST.SUB_PICR_ID IS '서브 담당자 ID';
COMMENT ON COLUMN T_PROJECT_HIST.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_PROJECT_HIST.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_PROJECT_HIST.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_PROJECT_HIST.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_PROJECT_HIST.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_PROJECT_HIST IS '프로젝트 이력[프로젝트 정보 이력]';



-- 이력    프로젝트 사용자 이력
DROP TABLE IF EXISTS T_PROJECT_USER_HIST CASCADE;
CREATE TABLE IF NOT EXISTS T_PROJECT_USER_HIST (
    HIST_DT TIMESTAMP NOT NULL
  , PROJECT_ID VARCHAR(32) NOT NULL
  , VER NUMERIC(9,3) NOT NULL
  , ROLE_SE VARCHAR(32) NOT NULL
  , REF_TY VARCHAR(16) NOT NULL
  , REF_ID VARCHAR(64) NOT NULL
  , NIGHT_USE_YN VARCHAR(1)
  , NIGHT_USE_START_DT TIMESTAMP
  , NIGHT_USE_END_DT TIMESTAMP
  , NIGHT_USE_APRV_STAT VARCHAR(32)
  , USE_YN VARCHAR(1)
  , RGST_ID VARCHAR(32)
  , RGST_DT TIMESTAMP
  , MODI_ID VARCHAR(32)
  , MODI_DT TIMESTAMP
);
--ALTER TABLE T_PROJECT_USER_HIST ADD CONSTRAINT T_PROJECT_USER_HIST_PK PRIMARY KEY();
CREATE INDEX T_PROJECT_USER_HIST_IX1 ON T_PROJECT_USER_HIST(PROJECT_ID, VER, ROLE_SE, REF_TY, REF_ID, HIST_DT);
COMMENT ON COLUMN T_PROJECT_USER_HIST.HIST_DT IS '이력 일시';
COMMENT ON COLUMN T_PROJECT_USER_HIST.PROJECT_ID IS '프로젝트 ID';
COMMENT ON COLUMN T_PROJECT_USER_HIST.VER IS '버전';
COMMENT ON COLUMN T_PROJECT_USER_HIST.ROLE_SE IS '역할 구분';
COMMENT ON COLUMN T_PROJECT_USER_HIST.REF_TY IS '참조 타입';
COMMENT ON COLUMN T_PROJECT_USER_HIST.REF_ID IS '참조 ID';
COMMENT ON COLUMN T_PROJECT_USER_HIST.NIGHT_USE_YN IS '야간 사용 여부';
COMMENT ON COLUMN T_PROJECT_USER_HIST.NIGHT_USE_START_DT IS '야간 사용 시작 일시';
COMMENT ON COLUMN T_PROJECT_USER_HIST.NIGHT_USE_END_DT IS '야간 사용 종료 일시';
COMMENT ON COLUMN T_PROJECT_USER_HIST.NIGHT_USE_APRV_STAT IS '야간 사용 승인 상태';
COMMENT ON COLUMN T_PROJECT_USER_HIST.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_PROJECT_USER_HIST.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_PROJECT_USER_HIST.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_PROJECT_USER_HIST.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_PROJECT_USER_HIST.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_PROJECT_USER_HIST IS '프로젝트 사용자 이력[프로젝트 사용자 정보 이력]';



-- 이력    보고서 이력
DROP TABLE IF EXISTS T_REPORT_HIST CASCADE;
CREATE TABLE IF NOT EXISTS T_REPORT_HIST (
    HIST_DT TIMESTAMP NOT NULL
  , REPORT_ID VARCHAR(32) NOT NULL
  , VER NUMERIC(9,3) NOT NULL
  , PROJECT_ID VARCHAR(32)
  , REPORT_NM VARCHAR(100)
  , REPORT_CL VARCHAR(32)
  , REPORT_TY VARCHAR(32)
  , REPORT_SE VARCHAR(32)
  , WRK_CAT JSONB
  , REPORT_DSC VARCHAR(1000)
  , REPORT_STAT VARCHAR(32)
  , REPORT_URL VARCHAR(256)
  , REPORT_ATTR JSONB
  , PREVIEW_URL VARCHAR(256)
  , TABLEAU_WORKBOOK_ID VARCHAR(64)
  , FILE_ID VARCHAR(32)
  , PCPT_INFO JSONB
  , MGR_INFO JSONB
  , DEPT_CODE VARCHAR(16)
  , DEPT_INFO JSONB
  , SANCTN_INFO JSONB
  , RQST_RESN VARCHAR(2000)
  , EXECUT_CYCLE VARCHAR(100)
  , ACTIVE_YN VARCHAR(1)
  , ATMC_APRV_YN VARCHAR(1)
  , ORD_SEQ NUMERIC(5,0)
  , DEPT_MNG_YN VARCHAR(1)
  , VIEW_CNT NUMERIC(9,0)
  , MAIN_PICR_ID VARCHAR(32)
  , SUB_PICR_ID VARCHAR(32)
  , USE_YN VARCHAR(1)
  , ORGN_REPORT_ID VARCHAR(32)
  , ORGN_REPORT_VER NUMERIC(9,3)
  , RGST_ID VARCHAR(32)
  , RGST_DT TIMESTAMP
  , MODI_ID VARCHAR(32)
  , MODI_DT TIMESTAMP
);
--ALTER TABLE T_REPORT_HIST ADD CONSTRAINT T_REPORT_HIST_PK PRIMARY KEY();
CREATE INDEX T_REPORT_HIST_IX1 ON T_REPORT_HIST(REPORT_ID, VER, HIST_DT);
COMMENT ON COLUMN T_REPORT_HIST.HIST_DT IS '이력 일시';
COMMENT ON COLUMN T_REPORT_HIST.REPORT_ID IS '보고서 ID';
COMMENT ON COLUMN T_REPORT_HIST.VER IS '버전';
COMMENT ON COLUMN T_REPORT_HIST.PROJECT_ID IS '프로젝트 ID';
COMMENT ON COLUMN T_REPORT_HIST.REPORT_NM IS '보고서 명';
COMMENT ON COLUMN T_REPORT_HIST.REPORT_CL IS '보고서 분류';
COMMENT ON COLUMN T_REPORT_HIST.REPORT_TY IS '보고서 타입';
COMMENT ON COLUMN T_REPORT_HIST.REPORT_SE IS '보고서 구분';
COMMENT ON COLUMN T_REPORT_HIST.WRK_CAT IS '업무 카테고리';
COMMENT ON COLUMN T_REPORT_HIST.REPORT_DSC IS '보고서 설명';
COMMENT ON COLUMN T_REPORT_HIST.REPORT_STAT IS '보고서 상태';
COMMENT ON COLUMN T_REPORT_HIST.REPORT_URL IS '보고서 URL';
COMMENT ON COLUMN T_REPORT_HIST.REPORT_ATTR IS '보고서 속성';
COMMENT ON COLUMN T_REPORT_HIST.PREVIEW_URL IS '미리보기 URL';
COMMENT ON COLUMN T_REPORT_HIST.TABLEAU_WORKBOOK_ID IS '태블로 워크북 ID';
COMMENT ON COLUMN T_REPORT_HIST.FILE_ID IS '파일 ID';
COMMENT ON COLUMN T_REPORT_HIST.PCPT_INFO IS '참여자 정보';
COMMENT ON COLUMN T_REPORT_HIST.MGR_INFO IS '관리자 정보';
COMMENT ON COLUMN T_REPORT_HIST.DEPT_CODE IS '부서 코드';
COMMENT ON COLUMN T_REPORT_HIST.DEPT_INFO IS '부서 정보';
COMMENT ON COLUMN T_REPORT_HIST.SANCTN_INFO IS '결재 정보';
COMMENT ON COLUMN T_REPORT_HIST.RQST_RESN IS '요청 사유';
COMMENT ON COLUMN T_REPORT_HIST.EXECUT_CYCLE IS '실행 주기';
COMMENT ON COLUMN T_REPORT_HIST.ACTIVE_YN IS '활성 여부';
COMMENT ON COLUMN T_REPORT_HIST.ATMC_APRV_YN IS '자동 승인 여부';
COMMENT ON COLUMN T_REPORT_HIST.ORD_SEQ IS '정렬 순서';
COMMENT ON COLUMN T_REPORT_HIST.DEPT_MNG_YN IS '부서 관리 여부';
COMMENT ON COLUMN T_REPORT_HIST.VIEW_CNT IS '뷰 건수';
COMMENT ON COLUMN T_REPORT_HIST.MAIN_PICR_ID IS '메인 담당자 ID';
COMMENT ON COLUMN T_REPORT_HIST.SUB_PICR_ID IS '서브 담당자 ID';
COMMENT ON COLUMN T_REPORT_HIST.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_REPORT_HIST.ORGN_REPORT_ID IS '원본 보고서 ID';
COMMENT ON COLUMN T_REPORT_HIST.ORGN_REPORT_VER IS '원본 보고서 버전';
COMMENT ON COLUMN T_REPORT_HIST.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_REPORT_HIST.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_REPORT_HIST.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_REPORT_HIST.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_REPORT_HIST IS '보고서 이력[보고서 정보 이력]';



-- 이력    보고서 사용자 이력
DROP TABLE IF EXISTS T_REPORT_USER_HIST CASCADE;
CREATE TABLE IF NOT EXISTS T_REPORT_USER_HIST (
    HIST_DT TIMESTAMP NOT NULL
  , REPORT_ID VARCHAR(32) NOT NULL
  , VER NUMERIC(9,3) NOT NULL
  , ROLE_SE VARCHAR(32) NOT NULL
  , REF_TY VARCHAR(16) NOT NULL
  , REF_ID VARCHAR(64) NOT NULL
  , USE_YN VARCHAR(1)
  , RGST_ID VARCHAR(32)
  , RGST_DT TIMESTAMP
  , MODI_ID VARCHAR(32)
  , MODI_DT TIMESTAMP
);
--ALTER TABLE T_REPORT_USER_HIST ADD CONSTRAINT T_REPORT_USER_HIST_PK PRIMARY KEY();
CREATE INDEX T_REPORT_USER_HIST_IX1 ON T_REPORT_USER_HIST(REPORT_ID, VER, ROLE_SE, REF_TY, REF_ID, HIST_DT);
COMMENT ON COLUMN T_REPORT_USER_HIST.HIST_DT IS '이력 일시';
COMMENT ON COLUMN T_REPORT_USER_HIST.REPORT_ID IS '보고서 ID';
COMMENT ON COLUMN T_REPORT_USER_HIST.VER IS '버전';
COMMENT ON COLUMN T_REPORT_USER_HIST.ROLE_SE IS '역할 구분';
COMMENT ON COLUMN T_REPORT_USER_HIST.REF_TY IS '참조 타입';
COMMENT ON COLUMN T_REPORT_USER_HIST.REF_ID IS '참조 ID';
COMMENT ON COLUMN T_REPORT_USER_HIST.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_REPORT_USER_HIST.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_REPORT_USER_HIST.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_REPORT_USER_HIST.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_REPORT_USER_HIST.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_REPORT_USER_HIST IS '보고서 사용자 이력[보고서 사용자 정보 이력]';



-- 공통    코드
DROP TABLE IF EXISTS T_CODE CASCADE;
CREATE TABLE IF NOT EXISTS T_CODE (
    GROUP_ID VARCHAR(32) NOT NULL
  , CODE_ID VARCHAR(32) NOT NULL
  , CODE_NM VARCHAR(100)
  , CODE_DSC VARCHAR(1000)
  , ORD_SEQ NUMERIC(5,0)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_CODE ADD CONSTRAINT T_CODE_PK PRIMARY KEY(GROUP_ID, CODE_ID);
--CREATE INDEX T_CODE_IX1 ON T_CODE();
COMMENT ON COLUMN T_CODE.GROUP_ID IS '그룹 ID';
COMMENT ON COLUMN T_CODE.CODE_ID IS '코드 ID';
COMMENT ON COLUMN T_CODE.CODE_NM IS '코드 명';
COMMENT ON COLUMN T_CODE.CODE_DSC IS '코드 설명';
COMMENT ON COLUMN T_CODE.ORD_SEQ IS '정렬 순서';
COMMENT ON COLUMN T_CODE.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_CODE.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_CODE.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_CODE.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_CODE.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_CODE IS '코드[공통 코드]';



-- 공통    부서
DROP TABLE IF EXISTS T_DEPT CASCADE;
CREATE TABLE IF NOT EXISTS T_DEPT (
    DEPT_CODE VARCHAR(16) NOT NULL
  , DEPT_NM VARCHAR(100)
  , HDEPT_CODE VARCHAR(16)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , MODI_SE VARCHAR(32)
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_DEPT ADD CONSTRAINT T_DEPT_PK PRIMARY KEY(DEPT_CODE);
--CREATE INDEX T_DEPT_IX1 ON T_DEPT();
COMMENT ON COLUMN T_DEPT.DEPT_CODE IS '부서 코드';
COMMENT ON COLUMN T_DEPT.DEPT_NM IS '부서 명';
COMMENT ON COLUMN T_DEPT.HDEPT_CODE IS '본부 코드';
COMMENT ON COLUMN T_DEPT.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_DEPT.MODI_SE IS '수정 구분[I: 등록 / U: 수정 / D: 삭제 / C: 완료 / R: 삭제완료]';
COMMENT ON COLUMN T_DEPT.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_DEPT.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_DEPT.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_DEPT.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_DEPT IS '부서[부서 정보]';



-- 공통    본부
DROP TABLE IF EXISTS T_HDEPT CASCADE;
CREATE TABLE IF NOT EXISTS T_HDEPT (
    HDEPT_CODE VARCHAR(16) NOT NULL
  , HDEPT_NM VARCHAR(100)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , MODI_SE VARCHAR(32)
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_HDEPT ADD CONSTRAINT T_HDEPT_PK PRIMARY KEY(HDEPT_CODE);
--CREATE INDEX T_HDEPT_IX1 ON T_HDEPT();
COMMENT ON COLUMN T_HDEPT.HDEPT_CODE IS '본부 코드';
COMMENT ON COLUMN T_HDEPT.HDEPT_NM IS '본부 명';
COMMENT ON COLUMN T_HDEPT.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_HDEPT.MODI_SE IS '수정 구분[I: 등록 / U: 수정 / D: 삭제 / C: 완료 / R: 삭제완료]';
COMMENT ON COLUMN T_HDEPT.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_HDEPT.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_HDEPT.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_HDEPT.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_HDEPT IS '본부[본부 정보]';



-- 공통    직위
DROP TABLE IF EXISTS T_PSTN CASCADE;
CREATE TABLE IF NOT EXISTS T_PSTN (
    PSTN_CODE VARCHAR(16) NOT NULL
  , PSTN_NM VARCHAR(100)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , MODI_SE VARCHAR(32)
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_PSTN ADD CONSTRAINT T_PSTN_PK PRIMARY KEY(PSTN_CODE);
--CREATE INDEX T_PSTN_IX1 ON T_PSTN();
COMMENT ON COLUMN T_PSTN.PSTN_CODE IS '직위 코드';
COMMENT ON COLUMN T_PSTN.PSTN_NM IS '직위 명';
COMMENT ON COLUMN T_PSTN.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_PSTN.MODI_SE IS '수정 구분[I: 등록 / U: 수정 / D: 삭제 / C: 완료 / R: 삭제완료]';
COMMENT ON COLUMN T_PSTN.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_PSTN.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_PSTN.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_PSTN.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_PSTN IS '직위[직위 정보]';



-- 공통    사용자
DROP TABLE IF EXISTS T_USER CASCADE;
CREATE TABLE IF NOT EXISTS T_USER (
    USER_ID VARCHAR(32) NOT NULL
  , USER_NM VARCHAR(100)
  , PSTN_CODE VARCHAR(16)
  , DEPT_CODE VARCHAR(16)
  , HDEPT_CODE VARCHAR(16)
  , ADOF_DEPT_CODE VARCHAR(16)
  , COMPANY_CODE VARCHAR(16)
  , DUTY_SE VARCHAR(32)
  , LAST_LOG_DT TIMESTAMP
  , START_DT TIMESTAMP
  , END_DT TIMESTAMP
  , FILE_URL VARCHAR(256)
  , MGR_SYS_ENV JSONB
  , USER_SYS_HOME VARCHAR(32)
  , USER_SYS_ENV JSONB
  , BF_DEPT_CODE VARCHAR(16)
  , DEPT_UPDT_DT TIMESTAMP
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , MODI_SE VARCHAR(32)
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_USER ADD CONSTRAINT T_USER_PK PRIMARY KEY(USER_ID);
--CREATE INDEX T_USER_IX1 ON T_USER();
COMMENT ON COLUMN T_USER.USER_ID IS '사용자 ID';
COMMENT ON COLUMN T_USER.USER_NM IS '사용자 명';
COMMENT ON COLUMN T_USER.PSTN_CODE IS '직위 코드';
COMMENT ON COLUMN T_USER.DEPT_CODE IS '부서 코드';
COMMENT ON COLUMN T_USER.HDEPT_CODE IS '본부 코드';
COMMENT ON COLUMN T_USER.ADOF_DEPT_CODE IS '겸직 부서 코드';
COMMENT ON COLUMN T_USER.COMPANY_CODE IS '회사 코드';
COMMENT ON COLUMN T_USER.DUTY_SE IS '직책 구분';
COMMENT ON COLUMN T_USER.LAST_LOG_DT IS '마지막 로그 일시';
COMMENT ON COLUMN T_USER.START_DT IS '시작 일시';
COMMENT ON COLUMN T_USER.END_DT IS '종료 일시';
COMMENT ON COLUMN T_USER.FILE_URL IS '파일 URL[사진 파일]';
COMMENT ON COLUMN T_USER.MGR_SYS_ENV IS '관리자 시스템 환경';
COMMENT ON COLUMN T_USER.USER_SYS_HOME IS '사용자 시스템 홈';
COMMENT ON COLUMN T_USER.USER_SYS_ENV IS '사용자 시스템 환경';
COMMENT ON COLUMN T_USER.BF_DEPT_CODE IS '이전 부서 코드';
COMMENT ON COLUMN T_USER.DEPT_UPDT_DT IS '부서 변경 일시';
COMMENT ON COLUMN T_USER.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_USER.MODI_SE IS '수정 구분[I: 등록 / U: 수정 / D: 삭제 / C: 완료 / R: 삭제완료]';
COMMENT ON COLUMN T_USER.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_USER.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_USER.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_USER.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_USER IS '사용자[사용자 정보]';



-- 공통    사용자 테스트
DROP TABLE IF EXISTS T_USER_TEST CASCADE;
CREATE TABLE IF NOT EXISTS T_USER_TEST (
    USER_ID VARCHAR(32) NOT NULL
  , USER_NM VARCHAR(100)
  , RGST_ID VARCHAR(32)
  , RGST_DT TIMESTAMP
);
ALTER TABLE T_USER_TEST ADD CONSTRAINT T_USER_TEST_PK PRIMARY KEY(USER_ID);
--CREATE INDEX T_USER_TEST_IX1 ON T_USER_TEST();
COMMENT ON COLUMN T_USER_TEST.USER_ID IS '사용자 ID';
COMMENT ON COLUMN T_USER_TEST.USER_NM IS '사용자 명';
COMMENT ON COLUMN T_USER_TEST.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_USER_TEST.RGST_DT IS '등록 일시';
COMMENT ON TABLE T_USER_TEST IS '사용자 테스트[HR 연계에 포함되지 않는 테스트 사용자]';



-- 공통    부서 분류
DROP TABLE IF EXISTS T_DEPT_CL CASCADE;
CREATE TABLE IF NOT EXISTS T_DEPT_CL (
    DEPT_CODE VARCHAR(16) NOT NULL
  , UP_DEPT_CODE VARCHAR(16)
  , DEPT_NM VARCHAR(100)
  , ORD_SEQ NUMERIC(5,0)
  , LV NUMERIC(5,0)
  , DEPT_PATH VARCHAR(1000)
  , GROUP_CODE VARCHAR(32)
  , UP_GROUP_CODE VARCHAR(32)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , MODI_SE VARCHAR(32)
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_DEPT_CL ADD CONSTRAINT T_DEPT_CL_PK PRIMARY KEY(DEPT_CODE);
--CREATE INDEX T_DEPT_CL_IX1 ON T_DEPT_CL();
COMMENT ON COLUMN T_DEPT_CL.DEPT_CODE IS '부서 코드';
COMMENT ON COLUMN T_DEPT_CL.UP_DEPT_CODE IS '상위 부서 코드';
COMMENT ON COLUMN T_DEPT_CL.DEPT_NM IS '부서 명';
COMMENT ON COLUMN T_DEPT_CL.ORD_SEQ IS '정렬 순서';
COMMENT ON COLUMN T_DEPT_CL.LV IS '레벨';
COMMENT ON COLUMN T_DEPT_CL.DEPT_PATH IS '부서 경로';
COMMENT ON COLUMN T_DEPT_CL.GROUP_CODE IS '그룹 코드';
COMMENT ON COLUMN T_DEPT_CL.UP_GROUP_CODE IS '상위 그룹 코드';
COMMENT ON COLUMN T_DEPT_CL.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_DEPT_CL.MODI_SE IS '수정 구분';
COMMENT ON COLUMN T_DEPT_CL.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_DEPT_CL.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_DEPT_CL.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_DEPT_CL.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_DEPT_CL IS '부서 분류[부서 조직도 정보]';



-- 공통    ID 순번
DROP TABLE IF EXISTS T_ID_SN CASCADE;
CREATE TABLE IF NOT EXISTS T_ID_SN (
    ID_TY VARCHAR(32) NOT NULL
  , ID_SE VARCHAR(32) NOT NULL
  , ID_SN NUMERIC(9,0) DEFAULT 0 NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_ID_SN ADD CONSTRAINT T_ID_SN_PK PRIMARY KEY(ID_TY, ID_SE);
--CREATE INDEX T_ID_SN_IX1 ON T_ID_SN();
COMMENT ON COLUMN T_ID_SN.ID_TY IS 'ID 타입';
COMMENT ON COLUMN T_ID_SN.ID_SE IS 'ID 구분';
COMMENT ON COLUMN T_ID_SN.ID_SN IS 'ID 순번';
COMMENT ON COLUMN T_ID_SN.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_ID_SN IS 'ID 순번[ID 순번 관리]';



-- 공통    파일
DROP TABLE IF EXISTS T_FILE CASCADE;
CREATE TABLE IF NOT EXISTS T_FILE (
    FILE_ID VARCHAR(32) NOT NULL
  , STORAGE_SE VARCHAR(32) NOT NULL
  , BUCKET_NM VARCHAR(256)
  , SAVE_PATH VARCHAR(256)
  , SAVE_FILE_NM VARCHAR(256)
  , SAVE_FILE_VER VARCHAR(100)
  , FILE_CL VARCHAR(32)
  , FILE_NM VARCHAR(256)
  , FILE_EXTSN VARCHAR(32)
  , FILE_SIZE NUMERIC(19,0)
  , FILE_URL VARCHAR(256)
  , REF_ID VARCHAR(64)
  , REF_VER NUMERIC(9,3)
  , ATMC_DEL_YN VARCHAR(1)
  , ATMC_DEL_DT TIMESTAMP
  , DEL_YN VARCHAR(1) DEFAULT 'N'
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_FILE ADD CONSTRAINT T_FILE_PK PRIMARY KEY(FILE_ID);
--CREATE INDEX T_FILE_IX1 ON T_FILE();
COMMENT ON COLUMN T_FILE.FILE_ID IS '파일 ID';
COMMENT ON COLUMN T_FILE.STORAGE_SE IS '저장소 구분';
COMMENT ON COLUMN T_FILE.BUCKET_NM IS '버킷 명[S3 / NAS]';
COMMENT ON COLUMN T_FILE.SAVE_PATH IS '저장 경로';
COMMENT ON COLUMN T_FILE.SAVE_FILE_NM IS '저장 파일 명';
COMMENT ON COLUMN T_FILE.SAVE_FILE_VER IS '저장 파일 버전';
COMMENT ON COLUMN T_FILE.FILE_CL IS '파일 분류';
COMMENT ON COLUMN T_FILE.FILE_NM IS '파일 명';
COMMENT ON COLUMN T_FILE.FILE_EXTSN IS '파일 확장자';
COMMENT ON COLUMN T_FILE.FILE_SIZE IS '파일 사이즈';
COMMENT ON COLUMN T_FILE.FILE_URL IS '파일 URL';
COMMENT ON COLUMN T_FILE.REF_ID IS '참조 ID';
COMMENT ON COLUMN T_FILE.REF_VER IS '참조 버전';
COMMENT ON COLUMN T_FILE.ATMC_DEL_YN IS '자동 삭제 여부';
COMMENT ON COLUMN T_FILE.ATMC_DEL_DT IS '자동 삭제 일시';
COMMENT ON COLUMN T_FILE.DEL_YN IS '삭제 여부';
COMMENT ON COLUMN T_FILE.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_FILE.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_FILE.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_FILE.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_FILE.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_FILE IS '파일[파일 정보]';



-- 공통    게시판 공지사항
DROP TABLE IF EXISTS T_BBS_NOTICE CASCADE;
CREATE TABLE IF NOT EXISTS T_BBS_NOTICE (
    NOTICE_ID VARCHAR(32) NOT NULL
  , SJ VARCHAR(100)
  , CN TEXT
  , IMPORTANT_YN VARCHAR(1) DEFAULT 'N'
  , ORD_SEQ NUMERIC(5,0) DEFAULT 0
  , FILE_ID VARCHAR(32)
  , VIEW_CNT NUMERIC(9,0)
  , POPUP_YN VARCHAR(1)
  , START_DT TIMESTAMP
  , END_DT TIMESTAMP
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_BBS_NOTICE ADD CONSTRAINT T_BBS_NOTICE_PK PRIMARY KEY(NOTICE_ID);
--CREATE INDEX T_BBS_NOTICE_IX1 ON T_BBS_NOTICE();
COMMENT ON COLUMN T_BBS_NOTICE.NOTICE_ID IS '공지사항 ID';
COMMENT ON COLUMN T_BBS_NOTICE.SJ IS '제목';
COMMENT ON COLUMN T_BBS_NOTICE.CN IS '내용';
COMMENT ON COLUMN T_BBS_NOTICE.IMPORTANT_YN IS '중요 여부';
COMMENT ON COLUMN T_BBS_NOTICE.ORD_SEQ IS '정렬 순서';
COMMENT ON COLUMN T_BBS_NOTICE.FILE_ID IS '파일 ID';
COMMENT ON COLUMN T_BBS_NOTICE.VIEW_CNT IS '뷰 건수';
COMMENT ON COLUMN T_BBS_NOTICE.POPUP_YN IS '팝업 여부';
COMMENT ON COLUMN T_BBS_NOTICE.START_DT IS '시작 일시[게시 및 팝업 노출 시작 일시]';
COMMENT ON COLUMN T_BBS_NOTICE.END_DT IS '종료 일시[게시 및 팝업 노출 종료 일시]';
COMMENT ON COLUMN T_BBS_NOTICE.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_BBS_NOTICE.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_BBS_NOTICE.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_BBS_NOTICE.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_BBS_NOTICE.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_BBS_NOTICE IS '게시판 공지사항[공지사항 관리]';



-- 공통    게시판 FAQ
DROP TABLE IF EXISTS T_BBS_FAQ CASCADE;
CREATE TABLE IF NOT EXISTS T_BBS_FAQ (
    FAQ_ID VARCHAR(32) NOT NULL
  , CL_CODE VARCHAR(32)
  , QSTN VARCHAR(1000)
  , ANSW TEXT
  , ORD_SEQ NUMERIC(5,0) DEFAULT 0
  , FILE_ID VARCHAR(32)
  , VIEW_CNT NUMERIC(9,0)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_BBS_FAQ ADD CONSTRAINT T_BBS_FAQ_PK PRIMARY KEY(FAQ_ID);
--CREATE INDEX T_BBS_FAQ_IX1 ON T_BBS_FAQ();
COMMENT ON COLUMN T_BBS_FAQ.FAQ_ID IS 'FAQ ID';
COMMENT ON COLUMN T_BBS_FAQ.CL_CODE IS '분류 코드[CODE GROUP_ID: FAQ_CL_CODE]';
COMMENT ON COLUMN T_BBS_FAQ.QSTN IS '질문';
COMMENT ON COLUMN T_BBS_FAQ.ANSW IS '답변';
COMMENT ON COLUMN T_BBS_FAQ.ORD_SEQ IS '정렬 순서';
COMMENT ON COLUMN T_BBS_FAQ.FILE_ID IS '파일 ID';
COMMENT ON COLUMN T_BBS_FAQ.VIEW_CNT IS '뷰 건수';
COMMENT ON COLUMN T_BBS_FAQ.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_BBS_FAQ.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_BBS_FAQ.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_BBS_FAQ.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_BBS_FAQ.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_BBS_FAQ IS '게시판 FAQ[FAQ 관리]';



-- 공통    게시판 QNA
DROP TABLE IF EXISTS T_BBS_QNA CASCADE;
CREATE TABLE IF NOT EXISTS T_BBS_QNA (
    QNA_ID VARCHAR(32) NOT NULL
  , CL_CODE VARCHAR(32)
  , SJ VARCHAR(100)
  , CN TEXT
  , FILE_ID VARCHAR(32)
  , ANSW TEXT
  , ANSW_FILE_ID VARCHAR(32)
  , ANSW_RGST_ID VARCHAR(32)
  , ANSW_RGST_DT TIMESTAMP
  , OPEN_YN VARCHAR(1)
  , QNA_STAT VARCHAR(32)
  , BF_QNA_ID VARCHAR(32)
  , VIEW_CNT NUMERIC(9,0)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_BBS_QNA ADD CONSTRAINT T_BBS_QNA_PK PRIMARY KEY(QNA_ID);
--CREATE INDEX T_BBS_QNA_IX1 ON T_BBS_QNA();
COMMENT ON COLUMN T_BBS_QNA.QNA_ID IS 'QNA ID';
COMMENT ON COLUMN T_BBS_QNA.CL_CODE IS '분류 코드';
COMMENT ON COLUMN T_BBS_QNA.SJ IS '제목';
COMMENT ON COLUMN T_BBS_QNA.CN IS '내용';
COMMENT ON COLUMN T_BBS_QNA.FILE_ID IS '파일 ID';
COMMENT ON COLUMN T_BBS_QNA.ANSW IS '답변';
COMMENT ON COLUMN T_BBS_QNA.ANSW_FILE_ID IS '답변 파일 ID';
COMMENT ON COLUMN T_BBS_QNA.ANSW_RGST_ID IS '답변 등록 ID';
COMMENT ON COLUMN T_BBS_QNA.ANSW_RGST_DT IS '답변 등록 일시';
COMMENT ON COLUMN T_BBS_QNA.OPEN_YN IS '공개 여부';
COMMENT ON COLUMN T_BBS_QNA.QNA_STAT IS 'QNA 상태';
COMMENT ON COLUMN T_BBS_QNA.BF_QNA_ID IS '이전 QNA ID';
COMMENT ON COLUMN T_BBS_QNA.VIEW_CNT IS '뷰 건수';
COMMENT ON COLUMN T_BBS_QNA.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_BBS_QNA.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_BBS_QNA.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_BBS_QNA.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_BBS_QNA.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_BBS_QNA IS '게시판 QNA[QNA 관리]';



-- 공통    뉴스 정보
DROP TABLE IF EXISTS T_NEWS_INFO CASCADE;
CREATE TABLE IF NOT EXISTS T_NEWS_INFO (
    NEWS_SJ VARCHAR(200) NOT NULL
  , NEWS_SRC VARCHAR(256)
  , NEWS_CN TEXT
  , RGST_DT TIMESTAMP
  , RGSTDE VARCHAR(10)
  , RGSTTM VARCHAR(12)
);
--ALTER TABLE T_NEWS_INFO ADD CONSTRAINT T_NEWS_INFO_PK PRIMARY KEY();
CREATE INDEX T_NEWS_INFO_IX1 ON T_NEWS_INFO(NEWS_SJ);
COMMENT ON COLUMN T_NEWS_INFO.NEWS_SJ IS '뉴스 제목';
COMMENT ON COLUMN T_NEWS_INFO.NEWS_SRC IS '뉴스 소스';
COMMENT ON COLUMN T_NEWS_INFO.NEWS_CN IS '뉴스 내용';
COMMENT ON COLUMN T_NEWS_INFO.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_NEWS_INFO.RGSTDE IS '등록일';
COMMENT ON COLUMN T_NEWS_INFO.RGSTTM IS '등록시간';
COMMENT ON TABLE T_NEWS_INFO IS '뉴스 정보[외부 제공 뉴스 정보]';



-- 공통    리서치 정보
DROP TABLE IF EXISTS T_RESRCH_INFO CASCADE;
CREATE TABLE IF NOT EXISTS T_RESRCH_INFO (
    RGST_SEQ NUMERIC(9,0) NOT NULL
  , RGSTDE VARCHAR(10)
  , WRK_SEQ NUMERIC(9,0)
  , COMPANY_NM VARCHAR(100)
  , OPENDE VARCHAR(10)
  , STBD_CODE VARCHAR(32)
  , SJ VARCHAR(100)
  , USER_NM VARCHAR(100)
  , FILE_NM VARCHAR(256)
  , FILE_ID VARCHAR(32)
  , FILE_URL VARCHAR(256)
  , RGST_DT TIMESTAMP
);
--ALTER TABLE T_RESRCH_INFO ADD CONSTRAINT T_RESRCH_INFO_PK PRIMARY KEY();
CREATE INDEX T_RESRCH_INFO_IX1 ON T_RESRCH_INFO(RGST_SEQ);
COMMENT ON COLUMN T_RESRCH_INFO.RGST_SEQ IS '등록 순서';
COMMENT ON COLUMN T_RESRCH_INFO.RGSTDE IS '등록일';
COMMENT ON COLUMN T_RESRCH_INFO.WRK_SEQ IS '업무 순서';
COMMENT ON COLUMN T_RESRCH_INFO.COMPANY_NM IS '회사 명';
COMMENT ON COLUMN T_RESRCH_INFO.OPENDE IS '공개일';
COMMENT ON COLUMN T_RESRCH_INFO.STBD_CODE IS '종목 코드';
COMMENT ON COLUMN T_RESRCH_INFO.SJ IS '제목';
COMMENT ON COLUMN T_RESRCH_INFO.USER_NM IS '사용자 명';
COMMENT ON COLUMN T_RESRCH_INFO.FILE_NM IS '파일 명';
COMMENT ON COLUMN T_RESRCH_INFO.FILE_ID IS '파일 ID';
COMMENT ON COLUMN T_RESRCH_INFO.FILE_URL IS '파일 URL';
COMMENT ON COLUMN T_RESRCH_INFO.RGST_DT IS '등록 일시';
COMMENT ON TABLE T_RESRCH_INFO IS '리서치 정보[외부 제공 리서치 정보]';



-- 공통    순위 정보
DROP TABLE IF EXISTS T_RANK_INFO CASCADE;
CREATE TABLE IF NOT EXISTS T_RANK_INFO (
    RANK_CL VARCHAR(32) NOT NULL
  , RANK_SEQ NUMERIC(9,0) NOT NULL
  , RANK_NM VARCHAR(200)
  , VIEW_CNT NUMERIC(9,0)
  , RGST_DT TIMESTAMP
);
--ALTER TABLE T_RANK_INFO ADD CONSTRAINT T_RANK_INFO_PK PRIMARY KEY();
CREATE INDEX T_RANK_INFO_IX1 ON T_RANK_INFO(RANK_CL, RANK_SEQ);
COMMENT ON COLUMN T_RANK_INFO.RANK_CL IS '순위 분류';
COMMENT ON COLUMN T_RANK_INFO.RANK_SEQ IS '순위 순서';
COMMENT ON COLUMN T_RANK_INFO.RANK_NM IS '순위 명';
COMMENT ON COLUMN T_RANK_INFO.VIEW_CNT IS '뷰 건수';
COMMENT ON COLUMN T_RANK_INFO.RGST_DT IS '등록 일시';
COMMENT ON TABLE T_RANK_INFO IS '순위 정보[외부 제공 순위 정보]';



-- 관리자    관리자 권한
DROP TABLE IF EXISTS T_MGR_AUTH CASCADE;
CREATE TABLE IF NOT EXISTS T_MGR_AUTH (
    USER_ID VARCHAR(32) NOT NULL
  , AUTH_ID VARCHAR(32) NOT NULL
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_MGR_AUTH ADD CONSTRAINT T_MGR_AUTH_PK PRIMARY KEY(USER_ID);
--CREATE INDEX T_MGR_AUTH_IX1 ON T_MGR_AUTH();
COMMENT ON COLUMN T_MGR_AUTH.USER_ID IS '사용자 ID';
COMMENT ON COLUMN T_MGR_AUTH.AUTH_ID IS '권한 ID';
COMMENT ON COLUMN T_MGR_AUTH.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_MGR_AUTH.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_MGR_AUTH.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_MGR_AUTH.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_MGR_AUTH.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_MGR_AUTH IS '관리자 권한[관리자 권한 관리]';



-- 관리자    관리자 시스템 권한
DROP TABLE IF EXISTS T_MGR_SYS_AUTH CASCADE;
CREATE TABLE IF NOT EXISTS T_MGR_SYS_AUTH (
    AUTH_ID VARCHAR(32) NOT NULL
  , AUTH_CL VARCHAR(32)
  , AUTH_NM VARCHAR(100)
  , AUTH_DSC VARCHAR(1000)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_MGR_SYS_AUTH ADD CONSTRAINT T_MGR_SYS_AUTH_PK PRIMARY KEY(AUTH_ID);
--CREATE INDEX T_MGR_SYS_AUTH_IX1 ON T_MGR_SYS_AUTH();
COMMENT ON COLUMN T_MGR_SYS_AUTH.AUTH_ID IS '권한 ID';
COMMENT ON COLUMN T_MGR_SYS_AUTH.AUTH_CL IS '권한 분류[CODE GROUP_ID: MGR_AUTH_CL]';
COMMENT ON COLUMN T_MGR_SYS_AUTH.AUTH_NM IS '권한 명';
COMMENT ON COLUMN T_MGR_SYS_AUTH.AUTH_DSC IS '권한 설명';
COMMENT ON COLUMN T_MGR_SYS_AUTH.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_MGR_SYS_AUTH.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_MGR_SYS_AUTH.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_MGR_SYS_AUTH.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_MGR_SYS_AUTH.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_MGR_SYS_AUTH IS '관리자 시스템 권한[관리자 시스템 권한 관리]';



-- 관리자    관리자 시스템 메뉴
DROP TABLE IF EXISTS T_MGR_SYS_MENU CASCADE;
CREATE TABLE IF NOT EXISTS T_MGR_SYS_MENU (
    MENU_ID VARCHAR(16) NOT NULL
  , UP_MENU_ID VARCHAR(16)
  , MENU_NM VARCHAR(100)
  , MENU_URL VARCHAR(256)
  , MENU_DSC VARCHAR(1000)
  , ORD_SEQ NUMERIC(5,0)
  , MENU_SE VARCHAR(32) DEFAULT 'M'
  , MENU_ATTR JSONB
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_MGR_SYS_MENU ADD CONSTRAINT T_MGR_SYS_MENU_PK PRIMARY KEY(MENU_ID);
--CREATE INDEX T_MGR_SYS_MENU_IX1 ON T_MGR_SYS_MENU();
COMMENT ON COLUMN T_MGR_SYS_MENU.MENU_ID IS '메뉴 ID';
COMMENT ON COLUMN T_MGR_SYS_MENU.UP_MENU_ID IS '상위 메뉴 ID';
COMMENT ON COLUMN T_MGR_SYS_MENU.MENU_NM IS '메뉴 명';
COMMENT ON COLUMN T_MGR_SYS_MENU.MENU_URL IS '메뉴 URL';
COMMENT ON COLUMN T_MGR_SYS_MENU.MENU_DSC IS '메뉴 설명';
COMMENT ON COLUMN T_MGR_SYS_MENU.ORD_SEQ IS '정렬 순서';
COMMENT ON COLUMN T_MGR_SYS_MENU.MENU_SE IS '메뉴 구분[CODE GROUP_ID: MENU_SE]';
COMMENT ON COLUMN T_MGR_SYS_MENU.MENU_ATTR IS '메뉴 속성';
COMMENT ON COLUMN T_MGR_SYS_MENU.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_MGR_SYS_MENU.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_MGR_SYS_MENU.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_MGR_SYS_MENU.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_MGR_SYS_MENU.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_MGR_SYS_MENU IS '관리자 시스템 메뉴[관리자 시스템 메뉴 관리]';



-- 관리자    관리자 시스템 메뉴 권한
DROP TABLE IF EXISTS T_MGR_SYS_MENU_AUTH CASCADE;
CREATE TABLE IF NOT EXISTS T_MGR_SYS_MENU_AUTH (
    AUTH_ID VARCHAR(32) NOT NULL
  , MENU_ID VARCHAR(16) NOT NULL
  , MENU_ATTR JSONB
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_MGR_SYS_MENU_AUTH ADD CONSTRAINT T_MGR_SYS_MENU_AUTH_PK PRIMARY KEY(AUTH_ID, MENU_ID);
--CREATE INDEX T_MGR_SYS_MENU_AUTH_IX1 ON T_MGR_SYS_MENU_AUTH();
COMMENT ON COLUMN T_MGR_SYS_MENU_AUTH.AUTH_ID IS '권한 ID';
COMMENT ON COLUMN T_MGR_SYS_MENU_AUTH.MENU_ID IS '메뉴 ID';
COMMENT ON COLUMN T_MGR_SYS_MENU_AUTH.MENU_ATTR IS '메뉴 속성';
COMMENT ON COLUMN T_MGR_SYS_MENU_AUTH.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_MGR_SYS_MENU_AUTH.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_MGR_SYS_MENU_AUTH.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_MGR_SYS_MENU_AUTH.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_MGR_SYS_MENU_AUTH.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_MGR_SYS_MENU_AUTH IS '관리자 시스템 메뉴 권한[관리자 시스템 메뉴 권한 관리]';



-- 관리자    관리자 시스템 스케줄
DROP TABLE IF EXISTS T_MGR_SYS_SCHEDULE CASCADE;
CREATE TABLE IF NOT EXISTS T_MGR_SYS_SCHEDULE (
    SCHEDULE_NM VARCHAR(100) NOT NULL
  , SCHEDULE_CL VARCHAR(32) NOT NULL
  , EXECUT_CYCLE VARCHAR(100) NOT NULL
  , TIME_ZONE VARCHAR(100) NOT NULL
  , SCHEDULE_DSC VARCHAR(1000)
  , OBJECT_NM VARCHAR(100)
  , TRIGGER_NM VARCHAR(100)
  , LOCK_YN VARCHAR(1)
  , LOCK_CYCLE VARCHAR(100)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_MGR_SYS_SCHEDULE ADD CONSTRAINT T_MGR_SYS_SCHEDULE_PK PRIMARY KEY(SCHEDULE_NM);
--CREATE INDEX T_MGR_SYS_SCHEDULE_IX1 ON T_MGR_SYS_SCHEDULE();
COMMENT ON COLUMN T_MGR_SYS_SCHEDULE.SCHEDULE_NM IS '스케줄 명[QUARTZ JOBDETAIL AND TRIGGER NAME]';
COMMENT ON COLUMN T_MGR_SYS_SCHEDULE.SCHEDULE_CL IS '스케줄 분류[QUARTZ JOBDETAIL AND TRIGGER GROUP / CODE GROUP_ID: SCHEDULE_CL]';
COMMENT ON COLUMN T_MGR_SYS_SCHEDULE.EXECUT_CYCLE IS '실행 주기[QUARTZ CRON EXPRESSION]';
COMMENT ON COLUMN T_MGR_SYS_SCHEDULE.TIME_ZONE IS '타임 존[QUARTZ CRON TIME ZONE]';
COMMENT ON COLUMN T_MGR_SYS_SCHEDULE.SCHEDULE_DSC IS '스케줄 설명';
COMMENT ON COLUMN T_MGR_SYS_SCHEDULE.OBJECT_NM IS '객체 명[QUARTZ JOBDETAIL OBJECT NAME]';
COMMENT ON COLUMN T_MGR_SYS_SCHEDULE.TRIGGER_NM IS '트리거 명[QUARTZ TRIGGER OBJECT NAME]';
COMMENT ON COLUMN T_MGR_SYS_SCHEDULE.LOCK_YN IS '락 여부[중복 실행 방지 여부]';
COMMENT ON COLUMN T_MGR_SYS_SCHEDULE.LOCK_CYCLE IS '락 주기[스케줄러 락 해지 시간]';
COMMENT ON COLUMN T_MGR_SYS_SCHEDULE.USE_YN IS '사용 여부[활성 / 비활성]';
COMMENT ON COLUMN T_MGR_SYS_SCHEDULE.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_MGR_SYS_SCHEDULE.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_MGR_SYS_SCHEDULE.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_MGR_SYS_SCHEDULE.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_MGR_SYS_SCHEDULE IS '관리자 시스템 스케줄[관리자 시스템 스케줄 관리]';



-- 관리자    관리자 시스템 스케줄 락
DROP TABLE IF EXISTS T_MGR_SYS_SCHEDULE_LOCK CASCADE;
CREATE TABLE IF NOT EXISTS T_MGR_SYS_SCHEDULE_LOCK (
    SCHEDULE_NM VARCHAR(100) NOT NULL
  , SCHEDULE_CL VARCHAR(32)
  , SERVER_IP VARCHAR(45)
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_MGR_SYS_SCHEDULE_LOCK ADD CONSTRAINT T_MGR_SYS_SCHEDULE_LOCK_PK PRIMARY KEY(SCHEDULE_NM);
--CREATE INDEX T_MGR_SYS_SCHEDULE_LOCK_IX1 ON T_MGR_SYS_SCHEDULE_LOCK();
COMMENT ON COLUMN T_MGR_SYS_SCHEDULE_LOCK.SCHEDULE_NM IS '스케줄 명';
COMMENT ON COLUMN T_MGR_SYS_SCHEDULE_LOCK.SCHEDULE_CL IS '스케줄 분류';
COMMENT ON COLUMN T_MGR_SYS_SCHEDULE_LOCK.SERVER_IP IS '서버 IP';
COMMENT ON COLUMN T_MGR_SYS_SCHEDULE_LOCK.RGST_DT IS '등록 일시';
COMMENT ON TABLE T_MGR_SYS_SCHEDULE_LOCK IS '관리자 시스템 스케줄 락[관리자 시스템 스케줄 중복 실행 방지]';



-- 사용자    사용자 권한
DROP TABLE IF EXISTS T_USER_AUTH CASCADE;
CREATE TABLE IF NOT EXISTS T_USER_AUTH (
    USER_ID VARCHAR(32) NOT NULL
  , AUTH_ID VARCHAR(32) NOT NULL
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_USER_AUTH ADD CONSTRAINT T_USER_AUTH_PK PRIMARY KEY(USER_ID);
--CREATE INDEX T_USER_AUTH_IX1 ON T_USER_AUTH();
COMMENT ON COLUMN T_USER_AUTH.USER_ID IS '사용자 ID';
COMMENT ON COLUMN T_USER_AUTH.AUTH_ID IS '권한 ID';
COMMENT ON COLUMN T_USER_AUTH.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_USER_AUTH.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_USER_AUTH.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_USER_AUTH.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_USER_AUTH.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_USER_AUTH IS '사용자 권한[사용자 권한 관리]';



-- 사용자    사용자 시스템 권한
DROP TABLE IF EXISTS T_USER_SYS_AUTH CASCADE;
CREATE TABLE IF NOT EXISTS T_USER_SYS_AUTH (
    AUTH_ID VARCHAR(32) NOT NULL
  , AUTH_CL VARCHAR(32)
  , AUTH_NM VARCHAR(100)
  , AUTH_DSC VARCHAR(1000)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_USER_SYS_AUTH ADD CONSTRAINT T_USER_SYS_AUTH_PK PRIMARY KEY(AUTH_ID);
--CREATE INDEX T_USER_SYS_AUTH_IX1 ON T_USER_SYS_AUTH();
COMMENT ON COLUMN T_USER_SYS_AUTH.AUTH_ID IS '권한 ID';
COMMENT ON COLUMN T_USER_SYS_AUTH.AUTH_CL IS '권한 분류[CODE GROUP_ID: USER_AUTH_CL]';
COMMENT ON COLUMN T_USER_SYS_AUTH.AUTH_NM IS '권한 명';
COMMENT ON COLUMN T_USER_SYS_AUTH.AUTH_DSC IS '권한 설명';
COMMENT ON COLUMN T_USER_SYS_AUTH.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_USER_SYS_AUTH.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_USER_SYS_AUTH.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_USER_SYS_AUTH.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_USER_SYS_AUTH.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_USER_SYS_AUTH IS '사용자 시스템 권한[사용자 시스템 권한 관리]';



-- 사용자    사용자 시스템 메뉴
DROP TABLE IF EXISTS T_USER_SYS_MENU CASCADE;
CREATE TABLE IF NOT EXISTS T_USER_SYS_MENU (
    MENU_ID VARCHAR(16) NOT NULL
  , UP_MENU_ID VARCHAR(16)
  , MENU_NM VARCHAR(100)
  , MENU_URL VARCHAR(256)
  , MENU_DSC VARCHAR(1000)
  , ORD_SEQ NUMERIC(5,0)
  , MENU_SE VARCHAR(32) DEFAULT 'M'
  , MENU_ATTR JSONB
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_USER_SYS_MENU ADD CONSTRAINT T_USER_SYS_MENU_PK PRIMARY KEY(MENU_ID);
--CREATE INDEX T_USER_SYS_MENU_IX1 ON T_USER_SYS_MENU();
COMMENT ON COLUMN T_USER_SYS_MENU.MENU_ID IS '메뉴 ID';
COMMENT ON COLUMN T_USER_SYS_MENU.UP_MENU_ID IS '상위 메뉴 ID';
COMMENT ON COLUMN T_USER_SYS_MENU.MENU_NM IS '메뉴 명';
COMMENT ON COLUMN T_USER_SYS_MENU.MENU_URL IS '메뉴 URL';
COMMENT ON COLUMN T_USER_SYS_MENU.MENU_DSC IS '메뉴 설명';
COMMENT ON COLUMN T_USER_SYS_MENU.ORD_SEQ IS '정렬 순서';
COMMENT ON COLUMN T_USER_SYS_MENU.MENU_SE IS '메뉴 구분[CODE GROUP_ID: MENU_SE]';
COMMENT ON COLUMN T_USER_SYS_MENU.MENU_ATTR IS '메뉴 속성';
COMMENT ON COLUMN T_USER_SYS_MENU.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_USER_SYS_MENU.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_USER_SYS_MENU.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_USER_SYS_MENU.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_USER_SYS_MENU.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_USER_SYS_MENU IS '사용자 시스템 메뉴[사용자 시스템 메뉴 관리]';



-- 사용자    사용자 시스템 메뉴 권한
DROP TABLE IF EXISTS T_USER_SYS_MENU_AUTH CASCADE;
CREATE TABLE IF NOT EXISTS T_USER_SYS_MENU_AUTH (
    AUTH_ID VARCHAR(32) NOT NULL
  , MENU_ID VARCHAR(16) NOT NULL
  , MENU_ATTR JSONB
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_USER_SYS_MENU_AUTH ADD CONSTRAINT T_USER_SYS_MENU_AUTH_PK PRIMARY KEY(AUTH_ID, MENU_ID);
--CREATE INDEX T_USER_SYS_MENU_AUTH_IX1 ON T_USER_SYS_MENU_AUTH();
COMMENT ON COLUMN T_USER_SYS_MENU_AUTH.AUTH_ID IS '권한 ID';
COMMENT ON COLUMN T_USER_SYS_MENU_AUTH.MENU_ID IS '메뉴 ID';
COMMENT ON COLUMN T_USER_SYS_MENU_AUTH.MENU_ATTR IS '메뉴 속성';
COMMENT ON COLUMN T_USER_SYS_MENU_AUTH.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_USER_SYS_MENU_AUTH.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_USER_SYS_MENU_AUTH.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_USER_SYS_MENU_AUTH.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_USER_SYS_MENU_AUTH.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_USER_SYS_MENU_AUTH IS '사용자 시스템 메뉴 권한[사용자 시스템 메뉴 권한 관리]';



-- 업무    라이선스
DROP TABLE IF EXISTS T_LICENSE CASCADE;
CREATE TABLE IF NOT EXISTS T_LICENSE (
    LICENSE_ID VARCHAR(32) NOT NULL
  , LICENSE_CL VARCHAR(32)
  , LICENSE_TY VARCHAR(32)
  , LICENSE_SE VARCHAR(32)
  , PROJECT_ID VARCHAR(32)
  , REPORT_ID VARCHAR(32)
  , AUTH_ID VARCHAR(32)
  , USER_ID VARCHAR(32)
  , TABLEAU_ID VARCHAR(128)
  , TABLEAU_PW VARCHAR(256)
  , TABLEAU_ATTR JSONB
  , AWS_ID VARCHAR(128)
  , AWS_PW VARCHAR(256)
  , AWS_ATTR JSONB
  , LICENSE_DSC VARCHAR(1000)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_LICENSE ADD CONSTRAINT T_LICENSE_PK PRIMARY KEY(LICENSE_ID);
--CREATE INDEX T_LICENSE_IX1 ON T_LICENSE();
COMMENT ON COLUMN T_LICENSE.LICENSE_ID IS '라이선스 ID';
COMMENT ON COLUMN T_LICENSE.LICENSE_CL IS '라이선스 분류[프로젝트 / 보고서]';
COMMENT ON COLUMN T_LICENSE.LICENSE_TY IS '라이선스 타입[권한 라이선스 / 사용자 라이선스]';
COMMENT ON COLUMN T_LICENSE.LICENSE_SE IS '라이선스 구분[CODE GROUP_ID: LICENSE_SE]';
COMMENT ON COLUMN T_LICENSE.PROJECT_ID IS '프로젝트 ID';
COMMENT ON COLUMN T_LICENSE.REPORT_ID IS '보고서 ID';
COMMENT ON COLUMN T_LICENSE.AUTH_ID IS '권한 ID';
COMMENT ON COLUMN T_LICENSE.USER_ID IS '사용자 ID';
COMMENT ON COLUMN T_LICENSE.TABLEAU_ID IS '태블로 ID';
COMMENT ON COLUMN T_LICENSE.TABLEAU_PW IS '태블로 비밀번호';
COMMENT ON COLUMN T_LICENSE.TABLEAU_ATTR IS '태블로 속성';
COMMENT ON COLUMN T_LICENSE.AWS_ID IS 'AWS ID';
COMMENT ON COLUMN T_LICENSE.AWS_PW IS 'AWS 비밀번호';
COMMENT ON COLUMN T_LICENSE.AWS_ATTR IS 'AWS 속성';
COMMENT ON COLUMN T_LICENSE.LICENSE_DSC IS '라이선스 설명';
COMMENT ON COLUMN T_LICENSE.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_LICENSE.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_LICENSE.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_LICENSE.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_LICENSE.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_LICENSE IS '라이선스[라이선스 관리]';



-- 업무    외부 시스템
DROP TABLE IF EXISTS T_EXTRNL_SYS CASCADE;
CREATE TABLE IF NOT EXISTS T_EXTRNL_SYS (
    EXTRNL_ID VARCHAR(32) NOT NULL
  , EXTRNL_NM VARCHAR(100)
  , EXTRNL_URL VARCHAR(256)
  , EXTRNL_DSC VARCHAR(1000)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_EXTRNL_SYS ADD CONSTRAINT T_EXTRNL_SYS_PK PRIMARY KEY(EXTRNL_ID);
--CREATE INDEX T_EXTRNL_SYS_IX1 ON T_EXTRNL_SYS();
COMMENT ON COLUMN T_EXTRNL_SYS.EXTRNL_ID IS '외부 ID';
COMMENT ON COLUMN T_EXTRNL_SYS.EXTRNL_NM IS '외부 명';
COMMENT ON COLUMN T_EXTRNL_SYS.EXTRNL_URL IS '외부 URL';
COMMENT ON COLUMN T_EXTRNL_SYS.EXTRNL_DSC IS '외부 설명';
COMMENT ON COLUMN T_EXTRNL_SYS.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_EXTRNL_SYS.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_EXTRNL_SYS.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_EXTRNL_SYS.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_EXTRNL_SYS.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_EXTRNL_SYS IS '외부 시스템[외부 시스템 관리]';



-- 업무    외부 데이터
DROP TABLE IF EXISTS T_EXTRNL_DATA CASCADE;
CREATE TABLE IF NOT EXISTS T_EXTRNL_DATA (
    DATA_ID VARCHAR(32) NOT NULL
  , SRC_SYS_CODE VARCHAR(32) NOT NULL
  , DATA_TY VARCHAR(32) NOT NULL
  , DATA_NM VARCHAR(100) NOT NULL
  , DATA_DSC VARCHAR(1000)
  , DATA_ITEM VARCHAR(1000)
  , DATA_LC VARCHAR(1000)
  , RMK VARCHAR(1000)
  , PURCHS_DEPT_CODE VARCHAR(16)
  , PURCHS_PICR_ID VARCHAR(32)
  , MNG_DEPT_CODE VARCHAR(16)
  , MNG_PICR_ID VARCHAR(32)
  , DEPT_INFO JSONB
  , START_DT TIMESTAMP
  , END_DT TIMESTAMP
  , SRC_SYS_URL VARCHAR(256)
  , DATA_TRNSMIS_MTHD VARCHAR(32)
  , DATA_TRNSMIS_CYCLE VARCHAR(32)
  , LANG VARCHAR(32)
  , RGST_SE VARCHAR(32)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_EXTRNL_DATA ADD CONSTRAINT T_EXTRNL_DATA_PK PRIMARY KEY(DATA_ID);
--CREATE INDEX T_EXTRNL_DATA_IX1 ON T_EXTRNL_DATA();
COMMENT ON COLUMN T_EXTRNL_DATA.DATA_ID IS '데이터 ID';
COMMENT ON COLUMN T_EXTRNL_DATA.SRC_SYS_CODE IS '소스 시스템 코드';
COMMENT ON COLUMN T_EXTRNL_DATA.DATA_TY IS '데이터 타입';
COMMENT ON COLUMN T_EXTRNL_DATA.DATA_NM IS '데이터 명';
COMMENT ON COLUMN T_EXTRNL_DATA.DATA_DSC IS '데이터 설명';
COMMENT ON COLUMN T_EXTRNL_DATA.DATA_ITEM IS '데이터 항목';
COMMENT ON COLUMN T_EXTRNL_DATA.DATA_LC IS '데이터 위치';
COMMENT ON COLUMN T_EXTRNL_DATA.RMK IS '비고';
COMMENT ON COLUMN T_EXTRNL_DATA.PURCHS_DEPT_CODE IS '구매 부서 코드';
COMMENT ON COLUMN T_EXTRNL_DATA.PURCHS_PICR_ID IS '구매 담당자 ID';
COMMENT ON COLUMN T_EXTRNL_DATA.MNG_DEPT_CODE IS '관리 부서 코드';
COMMENT ON COLUMN T_EXTRNL_DATA.MNG_PICR_ID IS '관리 담당자 ID[사용 부서 정보]';
COMMENT ON COLUMN T_EXTRNL_DATA.DEPT_INFO IS '부서 정보';
COMMENT ON COLUMN T_EXTRNL_DATA.START_DT IS '시작 일시';
COMMENT ON COLUMN T_EXTRNL_DATA.END_DT IS '종료 일시';
COMMENT ON COLUMN T_EXTRNL_DATA.SRC_SYS_URL IS '소스 시스템 URL';
COMMENT ON COLUMN T_EXTRNL_DATA.DATA_TRNSMIS_MTHD IS '데이터 전송 방식';
COMMENT ON COLUMN T_EXTRNL_DATA.DATA_TRNSMIS_CYCLE IS '데이터 전송 주기';
COMMENT ON COLUMN T_EXTRNL_DATA.LANG IS '언어';
COMMENT ON COLUMN T_EXTRNL_DATA.RGST_SE IS '등록 구분';
COMMENT ON COLUMN T_EXTRNL_DATA.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_EXTRNL_DATA.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_EXTRNL_DATA.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_EXTRNL_DATA.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_EXTRNL_DATA.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_EXTRNL_DATA IS '외부 데이터[외부 데이터 관리 정보]';



-- 업무    검색 키워드
DROP TABLE IF EXISTS T_SRCH_KWD CASCADE;
CREATE TABLE IF NOT EXISTS T_SRCH_KWD (
    SRCH_CL VARCHAR(32) NOT NULL
  , SRCH_KWD VARCHAR(100) NOT NULL
  , SRCH_CNT NUMERIC(19,0) DEFAULT '0' NOT NULL
  , BF_SRCH_CNT NUMERIC(19,0) DEFAULT '0' NOT NULL
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
--ALTER TABLE T_SRCH_KWD ADD CONSTRAINT T_SRCH_KWD_PK PRIMARY KEY();
CREATE INDEX T_SRCH_KWD_IX1 ON T_SRCH_KWD(SRCH_CL, SRCH_KWD);
COMMENT ON COLUMN T_SRCH_KWD.SRCH_CL IS '검색 분류';
COMMENT ON COLUMN T_SRCH_KWD.SRCH_KWD IS '검색 키워드';
COMMENT ON COLUMN T_SRCH_KWD.SRCH_CNT IS '검색 건수';
COMMENT ON COLUMN T_SRCH_KWD.BF_SRCH_CNT IS '이전 검색 건수';
COMMENT ON COLUMN T_SRCH_KWD.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_SRCH_KWD.RGST_DT IS '등록 일시';
COMMENT ON TABLE T_SRCH_KWD IS '검색 키워드[검색 키워드 관리]';



-- 업무    업무 카테고리
DROP TABLE IF EXISTS T_WRK_CAT CASCADE;
CREATE TABLE IF NOT EXISTS T_WRK_CAT (
    WRK_ID VARCHAR(32) NOT NULL
  , UP_WRK_ID VARCHAR(32)
  , WRK_NM VARCHAR(100)
  , WRK_DSC VARCHAR(1000)
  , ORD_SEQ NUMERIC(5,0)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_WRK_CAT ADD CONSTRAINT T_WRK_CAT_PK PRIMARY KEY(WRK_ID);
--CREATE INDEX T_WRK_CAT_IX1 ON T_WRK_CAT();
COMMENT ON COLUMN T_WRK_CAT.WRK_ID IS '업무 ID';
COMMENT ON COLUMN T_WRK_CAT.UP_WRK_ID IS '상위 업무 ID';
COMMENT ON COLUMN T_WRK_CAT.WRK_NM IS '업무 명';
COMMENT ON COLUMN T_WRK_CAT.WRK_DSC IS '업무 설명';
COMMENT ON COLUMN T_WRK_CAT.ORD_SEQ IS '정렬 순서';
COMMENT ON COLUMN T_WRK_CAT.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_WRK_CAT.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_WRK_CAT.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_WRK_CAT.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_WRK_CAT.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_WRK_CAT IS '업무 카테고리[업무 카테고리 관리]';



-- 업무    역할 그룹
DROP TABLE IF EXISTS T_ROLE_GROUP CASCADE;
CREATE TABLE IF NOT EXISTS T_ROLE_GROUP (
    GROUP_ID VARCHAR(32) NOT NULL
  , GROUP_NM VARCHAR(200)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_ROLE_GROUP ADD CONSTRAINT T_ROLE_GROUP_PK PRIMARY KEY(GROUP_ID);
--CREATE INDEX T_ROLE_GROUP_IX1 ON T_ROLE_GROUP();
COMMENT ON COLUMN T_ROLE_GROUP.GROUP_ID IS '그룹 ID';
COMMENT ON COLUMN T_ROLE_GROUP.GROUP_NM IS '그룹 명';
COMMENT ON COLUMN T_ROLE_GROUP.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_ROLE_GROUP.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_ROLE_GROUP.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_ROLE_GROUP.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_ROLE_GROUP.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_ROLE_GROUP IS '역할 그룹[역할 그룹 정보]';



-- 업무    역할 그룹 상세
DROP TABLE IF EXISTS T_ROLE_GROUP_DTL CASCADE;
CREATE TABLE IF NOT EXISTS T_ROLE_GROUP_DTL (
    GROUP_ID VARCHAR(32) NOT NULL
  , REF_TY VARCHAR(16) NOT NULL
  , REF_ID VARCHAR(64) NOT NULL
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_ROLE_GROUP_DTL ADD CONSTRAINT T_ROLE_GROUP_DTL_PK PRIMARY KEY(GROUP_ID, REF_TY, REF_ID);
--CREATE INDEX T_ROLE_GROUP_DTL_IX1 ON T_ROLE_GROUP_DTL();
COMMENT ON COLUMN T_ROLE_GROUP_DTL.GROUP_ID IS '그룹 ID';
COMMENT ON COLUMN T_ROLE_GROUP_DTL.REF_TY IS '참조 타입';
COMMENT ON COLUMN T_ROLE_GROUP_DTL.REF_ID IS '참조 ID';
COMMENT ON COLUMN T_ROLE_GROUP_DTL.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_ROLE_GROUP_DTL.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_ROLE_GROUP_DTL.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_ROLE_GROUP_DTL.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_ROLE_GROUP_DTL.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_ROLE_GROUP_DTL IS '역할 그룹 상세[역할 그룹 상세 정보]';



-- 업무    프로젝트 신청
DROP TABLE IF EXISTS T_PROJECT_APPLY CASCADE;
CREATE TABLE IF NOT EXISTS T_PROJECT_APPLY (
    APRV_ID VARCHAR(32) NOT NULL
  , PROJECT_ID VARCHAR(32) NOT NULL
  , VER NUMERIC(9,3)
  , PROJECT_NM VARCHAR(100)
  , PROJECT_CL VARCHAR(32)
  , PROJECT_TY VARCHAR(32)
  , PROJECT_SE VARCHAR(32)
  , PCPT_INFO JSONB
  , MGR_INFO JSONB
  , DEPT_CODE VARCHAR(16)
  , DEPT_INFO JSONB
  , PROJECT_DATA JSONB
  , PROJECT_RSRC JSONB
  , START_DT TIMESTAMP
  , END_DT TIMESTAMP
  , PROJECT_DSC VARCHAR(1000)
  , PROJECT_STAT VARCHAR(32)
  , TABLEAU_PROJECT_ID VARCHAR(64)
  , ACTIVE_YN VARCHAR(1)
  , LAST_VER_YN VARCHAR(1)
  , APRV_STAT VARCHAR(32)
  , ORD_SEQ NUMERIC(5,0)
  , MAIN_PICR_ID VARCHAR(32)
  , SUB_PICR_ID VARCHAR(32)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_PROJECT_APPLY ADD CONSTRAINT T_PROJECT_APPLY_PK PRIMARY KEY(APRV_ID);
--CREATE INDEX T_PROJECT_APPLY_IX1 ON T_PROJECT_APPLY();
COMMENT ON COLUMN T_PROJECT_APPLY.APRV_ID IS '승인 ID';
COMMENT ON COLUMN T_PROJECT_APPLY.PROJECT_ID IS '프로젝트 ID';
COMMENT ON COLUMN T_PROJECT_APPLY.VER IS '버전';
COMMENT ON COLUMN T_PROJECT_APPLY.PROJECT_NM IS '프로젝트 명';
COMMENT ON COLUMN T_PROJECT_APPLY.PROJECT_CL IS '프로젝트 분류';
COMMENT ON COLUMN T_PROJECT_APPLY.PROJECT_TY IS '프로젝트 타입';
COMMENT ON COLUMN T_PROJECT_APPLY.PROJECT_SE IS '프로젝트 구분';
COMMENT ON COLUMN T_PROJECT_APPLY.PCPT_INFO IS '참여자 정보';
COMMENT ON COLUMN T_PROJECT_APPLY.MGR_INFO IS '관리자 정보';
COMMENT ON COLUMN T_PROJECT_APPLY.DEPT_CODE IS '부서 코드';
COMMENT ON COLUMN T_PROJECT_APPLY.DEPT_INFO IS '부서 정보';
COMMENT ON COLUMN T_PROJECT_APPLY.PROJECT_DATA IS '프로젝트 데이터';
COMMENT ON COLUMN T_PROJECT_APPLY.PROJECT_RSRC IS '프로젝트 자원';
COMMENT ON COLUMN T_PROJECT_APPLY.START_DT IS '시작 일시';
COMMENT ON COLUMN T_PROJECT_APPLY.END_DT IS '종료 일시';
COMMENT ON COLUMN T_PROJECT_APPLY.PROJECT_DSC IS '프로젝트 설명';
COMMENT ON COLUMN T_PROJECT_APPLY.PROJECT_STAT IS '프로젝트 상태';
COMMENT ON COLUMN T_PROJECT_APPLY.TABLEAU_PROJECT_ID IS '태블로 프로젝트 ID';
COMMENT ON COLUMN T_PROJECT_APPLY.ACTIVE_YN IS '활성 여부';
COMMENT ON COLUMN T_PROJECT_APPLY.LAST_VER_YN IS '마지막 버전 여부';
COMMENT ON COLUMN T_PROJECT_APPLY.APRV_STAT IS '승인 상태';
COMMENT ON COLUMN T_PROJECT_APPLY.ORD_SEQ IS '정렬 순서';
COMMENT ON COLUMN T_PROJECT_APPLY.MAIN_PICR_ID IS '메인 담당자 ID';
COMMENT ON COLUMN T_PROJECT_APPLY.SUB_PICR_ID IS '서브 담당자 ID';
COMMENT ON COLUMN T_PROJECT_APPLY.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_PROJECT_APPLY.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_PROJECT_APPLY.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_PROJECT_APPLY.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_PROJECT_APPLY.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_PROJECT_APPLY IS '프로젝트 신청[프로젝트 신청 및 수정 승인 요청 정보]';



-- 업무    프로젝트
DROP TABLE IF EXISTS T_PROJECT CASCADE;
CREATE TABLE IF NOT EXISTS T_PROJECT (
    PROJECT_ID VARCHAR(32)
  , VER NUMERIC(9,3)
  , PROJECT_NM VARCHAR(100)
  , PROJECT_CL VARCHAR(32)
  , PROJECT_TY VARCHAR(32)
  , PROJECT_SE VARCHAR(32)
  , PCPT_INFO JSONB
  , MGR_INFO JSONB
  , DEPT_CODE VARCHAR(16)
  , DEPT_INFO JSONB
  , PROJECT_DATA JSONB
  , PROJECT_RSRC JSONB
  , START_DT TIMESTAMP
  , END_DT TIMESTAMP
  , PROJECT_DSC VARCHAR(1000)
  , PROJECT_STAT VARCHAR(32)
  , TABLEAU_PROJECT_ID VARCHAR(64)
  , ACTIVE_YN VARCHAR(1) DEFAULT 'N'
  , LAST_VER_YN VARCHAR(1) DEFAULT 'N'
  , APRV_STAT VARCHAR(32)
  , ORD_SEQ NUMERIC(5,0)
  , MAIN_PICR_ID VARCHAR(32)
  , SUB_PICR_ID VARCHAR(32)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_PROJECT ADD CONSTRAINT T_PROJECT_PK PRIMARY KEY(PROJECT_ID, VER);
--CREATE INDEX T_PROJECT_IX1 ON T_PROJECT();
COMMENT ON COLUMN T_PROJECT.PROJECT_ID IS '프로젝트 ID';
COMMENT ON COLUMN T_PROJECT.VER IS '버전';
COMMENT ON COLUMN T_PROJECT.PROJECT_NM IS '프로젝트 명';
COMMENT ON COLUMN T_PROJECT.PROJECT_CL IS '프로젝트 분류[그룹화 - 폴더]';
COMMENT ON COLUMN T_PROJECT.PROJECT_TY IS '프로젝트 타입[CODE GROUP_ID: PROJECT_TY]';
COMMENT ON COLUMN T_PROJECT.PROJECT_SE IS '프로젝트 구분[공개 / 일반]';
COMMENT ON COLUMN T_PROJECT.PCPT_INFO IS '참여자 정보';
COMMENT ON COLUMN T_PROJECT.MGR_INFO IS '관리자 정보';
COMMENT ON COLUMN T_PROJECT.DEPT_CODE IS '부서 코드';
COMMENT ON COLUMN T_PROJECT.DEPT_INFO IS '부서 정보';
COMMENT ON COLUMN T_PROJECT.PROJECT_DATA IS '프로젝트 데이터';
COMMENT ON COLUMN T_PROJECT.PROJECT_RSRC IS '프로젝트 자원';
COMMENT ON COLUMN T_PROJECT.START_DT IS '시작 일시';
COMMENT ON COLUMN T_PROJECT.END_DT IS '종료 일시';
COMMENT ON COLUMN T_PROJECT.PROJECT_DSC IS '프로젝트 설명';
COMMENT ON COLUMN T_PROJECT.PROJECT_STAT IS '프로젝트 상태[CODE GROUP_ID: PROJECT_STAT]';
COMMENT ON COLUMN T_PROJECT.TABLEAU_PROJECT_ID IS '태블로 프로젝트 ID';
COMMENT ON COLUMN T_PROJECT.ACTIVE_YN IS '활성 여부[동일 프로젝트 ID 중 하나의 버전만 활성]';
COMMENT ON COLUMN T_PROJECT.LAST_VER_YN IS '마지막 버전 여부[동일 프로젝트 ID 중 마지막 버전]';
COMMENT ON COLUMN T_PROJECT.APRV_STAT IS '승인 상태[버전별 승인 상태]';
COMMENT ON COLUMN T_PROJECT.ORD_SEQ IS '정렬 순서';
COMMENT ON COLUMN T_PROJECT.MAIN_PICR_ID IS '메인 담당자 ID';
COMMENT ON COLUMN T_PROJECT.SUB_PICR_ID IS '서브 담당자 ID';
COMMENT ON COLUMN T_PROJECT.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_PROJECT.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_PROJECT.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_PROJECT.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_PROJECT.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_PROJECT IS '프로젝트[프로젝트 정보]';



-- 업무    프로젝트 사용자
DROP TABLE IF EXISTS T_PROJECT_USER CASCADE;
CREATE TABLE IF NOT EXISTS T_PROJECT_USER (
    PROJECT_ID VARCHAR(32) NOT NULL
  , VER NUMERIC(9,3) NOT NULL
  , ROLE_SE VARCHAR(32) NOT NULL
  , REF_TY VARCHAR(16) NOT NULL
  , REF_ID VARCHAR(64) NOT NULL
  , NIGHT_USE_YN VARCHAR(1) DEFAULT 'N'
  , NIGHT_USE_START_DT TIMESTAMP
  , NIGHT_USE_END_DT TIMESTAMP
  , NIGHT_USE_APRV_STAT VARCHAR(32)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_PROJECT_USER ADD CONSTRAINT T_PROJECT_USER_PK PRIMARY KEY(PROJECT_ID, VER, ROLE_SE, REF_TY, REF_ID);
--CREATE INDEX T_PROJECT_USER_IX1 ON T_PROJECT_USER();
COMMENT ON COLUMN T_PROJECT_USER.PROJECT_ID IS '프로젝트 ID';
COMMENT ON COLUMN T_PROJECT_USER.VER IS '버전';
COMMENT ON COLUMN T_PROJECT_USER.ROLE_SE IS '역할 구분';
COMMENT ON COLUMN T_PROJECT_USER.REF_TY IS '참조 타입';
COMMENT ON COLUMN T_PROJECT_USER.REF_ID IS '참조 ID';
COMMENT ON COLUMN T_PROJECT_USER.NIGHT_USE_YN IS '야간 사용 여부';
COMMENT ON COLUMN T_PROJECT_USER.NIGHT_USE_START_DT IS '야간 사용 시작 일시';
COMMENT ON COLUMN T_PROJECT_USER.NIGHT_USE_END_DT IS '야간 사용 종료 일시';
COMMENT ON COLUMN T_PROJECT_USER.NIGHT_USE_APRV_STAT IS '야간 사용 승인 상태';
COMMENT ON COLUMN T_PROJECT_USER.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_PROJECT_USER.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_PROJECT_USER.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_PROJECT_USER.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_PROJECT_USER.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_PROJECT_USER IS '프로젝트 사용자[프로젝트 사용자 정보]';



-- 업무    보고서
DROP TABLE IF EXISTS T_REPORT CASCADE;
CREATE TABLE IF NOT EXISTS T_REPORT (
    REPORT_ID VARCHAR(32) NOT NULL
  , VER NUMERIC(9,3)
  , PROJECT_ID VARCHAR(32)
  , REPORT_NM VARCHAR(100)
  , REPORT_CL VARCHAR(32)
  , REPORT_TY VARCHAR(32)
  , REPORT_SE VARCHAR(32)
  , WRK_CAT JSONB
  , REPORT_DSC VARCHAR(1000)
  , REPORT_STAT VARCHAR(32)
  , REPORT_URL VARCHAR(256)
  , REPORT_ATTR JSONB
  , PREVIEW_URL VARCHAR(256)
  , TABLEAU_WORKBOOK_ID VARCHAR(64)
  , FILE_ID VARCHAR(32)
  , PCPT_INFO JSONB
  , MGR_INFO JSONB
  , DEPT_CODE VARCHAR(16)
  , DEPT_INFO JSONB
  , SANCTN_INFO JSONB
  , RQST_RESN VARCHAR(2000)
  , EXECUT_CYCLE VARCHAR(100)
  , ACTIVE_YN VARCHAR(1)
  , ATMC_APRV_YN VARCHAR(1) DEFAULT 'N'
  , ORD_SEQ NUMERIC(5,0)
  , DEPT_MNG_YN VARCHAR(1)
  , VIEW_CNT NUMERIC(9,0)
  , MAIN_PICR_ID VARCHAR(32)
  , SUB_PICR_ID VARCHAR(32)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , ORGN_REPORT_ID VARCHAR(32)
  , ORGN_REPORT_VER NUMERIC(9,3)
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_REPORT ADD CONSTRAINT T_REPORT_PK PRIMARY KEY(REPORT_ID);
--CREATE INDEX T_REPORT_IX1 ON T_REPORT();
COMMENT ON COLUMN T_REPORT.REPORT_ID IS '보고서 ID';
COMMENT ON COLUMN T_REPORT.VER IS '버전';
COMMENT ON COLUMN T_REPORT.PROJECT_ID IS '프로젝트 ID';
COMMENT ON COLUMN T_REPORT.REPORT_NM IS '보고서 명';
COMMENT ON COLUMN T_REPORT.REPORT_CL IS '보고서 분류[그룹화 - 폴더]';
COMMENT ON COLUMN T_REPORT.REPORT_TY IS '보고서 타입[CODE GROUP_ID: REPORT_TY]';
COMMENT ON COLUMN T_REPORT.REPORT_SE IS '보고서 구분[공개 / 일반]';
COMMENT ON COLUMN T_REPORT.WRK_CAT IS '업무 카테고리';
COMMENT ON COLUMN T_REPORT.REPORT_DSC IS '보고서 설명';
COMMENT ON COLUMN T_REPORT.REPORT_STAT IS '보고서 상태[CODE GROUP_ID: REPORT_STAT]';
COMMENT ON COLUMN T_REPORT.REPORT_URL IS '보고서 URL';
COMMENT ON COLUMN T_REPORT.REPORT_ATTR IS '보고서 속성[JSON 속성 관리]';
COMMENT ON COLUMN T_REPORT.PREVIEW_URL IS '미리보기 URL';
COMMENT ON COLUMN T_REPORT.TABLEAU_WORKBOOK_ID IS '태블로 워크북 ID';
COMMENT ON COLUMN T_REPORT.FILE_ID IS '파일 ID[미리보기 이미지 파일]';
COMMENT ON COLUMN T_REPORT.PCPT_INFO IS '참여자 정보';
COMMENT ON COLUMN T_REPORT.MGR_INFO IS '관리자 정보';
COMMENT ON COLUMN T_REPORT.DEPT_CODE IS '부서 코드';
COMMENT ON COLUMN T_REPORT.DEPT_INFO IS '부서 정보';
COMMENT ON COLUMN T_REPORT.SANCTN_INFO IS '결재 정보[JSON으로 결재 라인 관리]';
COMMENT ON COLUMN T_REPORT.RQST_RESN IS '요청 사유';
COMMENT ON COLUMN T_REPORT.EXECUT_CYCLE IS '실행 주기[태블로 실행 주기]';
COMMENT ON COLUMN T_REPORT.ACTIVE_YN IS '활성 여부';
COMMENT ON COLUMN T_REPORT.ATMC_APRV_YN IS '자동 승인 여부';
COMMENT ON COLUMN T_REPORT.ORD_SEQ IS '정렬 순서';
COMMENT ON COLUMN T_REPORT.DEPT_MNG_YN IS '부서 관리 여부';
COMMENT ON COLUMN T_REPORT.VIEW_CNT IS '뷰 건수';
COMMENT ON COLUMN T_REPORT.MAIN_PICR_ID IS '메인 담당자 ID';
COMMENT ON COLUMN T_REPORT.SUB_PICR_ID IS '서브 담당자 ID';
COMMENT ON COLUMN T_REPORT.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_REPORT.ORGN_REPORT_ID IS '원본 보고서 ID';
COMMENT ON COLUMN T_REPORT.ORGN_REPORT_VER IS '원본 보고서 버전';
COMMENT ON COLUMN T_REPORT.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_REPORT.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_REPORT.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_REPORT.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_REPORT IS '보고서[보고서 정보]';



-- 업무    보고서 사용자
DROP TABLE IF EXISTS T_REPORT_USER CASCADE;
CREATE TABLE IF NOT EXISTS T_REPORT_USER (
    REPORT_ID VARCHAR(32) NOT NULL
  , VER NUMERIC(9,3) NOT NULL
  , ROLE_SE VARCHAR(32) NOT NULL
  , REF_TY VARCHAR(16) NOT NULL
  , REF_ID VARCHAR(64) NOT NULL
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_REPORT_USER ADD CONSTRAINT T_REPORT_USER_PK PRIMARY KEY(REPORT_ID, VER, ROLE_SE, REF_TY, REF_ID);
--CREATE INDEX T_REPORT_USER_IX1 ON T_REPORT_USER();
COMMENT ON COLUMN T_REPORT_USER.REPORT_ID IS '보고서 ID';
COMMENT ON COLUMN T_REPORT_USER.VER IS '버전';
COMMENT ON COLUMN T_REPORT_USER.ROLE_SE IS '역할 구분';
COMMENT ON COLUMN T_REPORT_USER.REF_TY IS '참조 타입';
COMMENT ON COLUMN T_REPORT_USER.REF_ID IS '참조 ID';
COMMENT ON COLUMN T_REPORT_USER.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_REPORT_USER.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_REPORT_USER.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_REPORT_USER.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_REPORT_USER.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_REPORT_USER IS '보고서 사용자[보고서 사용자 정보]';



-- 업무    AWS 인스턴스
DROP TABLE IF EXISTS T_AWS_INSTANCE CASCADE;
CREATE TABLE IF NOT EXISTS T_AWS_INSTANCE (
    INSTANCE_SE VARCHAR(32) NOT NULL
  , INSTANCE_NM VARCHAR(100) NOT NULL
  , INSTANCE_CAT VARCHAR(100)
  , VCPU VARCHAR(64)
  , MEMORY VARCHAR(64)
  , GPU VARCHAR(64)
  , DFLT_YN VARCHAR(1)
  , WRANGLER_YN VARCHAR(1)
  , DFLT_SETUP VARCHAR(64)
  , MAX_SETUP VARCHAR(64)
  , DFLT_LIST VARCHAR(64)
  , ADVC_LIST VARCHAR(64)
  , ORD_SEQ NUMERIC(5,0)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_AWS_INSTANCE ADD CONSTRAINT T_AWS_INSTANCE_PK PRIMARY KEY(INSTANCE_SE, INSTANCE_NM);
--CREATE INDEX T_AWS_INSTANCE_IX1 ON T_AWS_INSTANCE();
COMMENT ON COLUMN T_AWS_INSTANCE.INSTANCE_SE IS '인스턴스 구분';
COMMENT ON COLUMN T_AWS_INSTANCE.INSTANCE_NM IS '인스턴스 명';
COMMENT ON COLUMN T_AWS_INSTANCE.INSTANCE_CAT IS '인스턴스 카테고리';
COMMENT ON COLUMN T_AWS_INSTANCE.VCPU IS 'VCPU';
COMMENT ON COLUMN T_AWS_INSTANCE.MEMORY IS '메모리';
COMMENT ON COLUMN T_AWS_INSTANCE.GPU IS 'GPU';
COMMENT ON COLUMN T_AWS_INSTANCE.DFLT_YN IS '기본 여부';
COMMENT ON COLUMN T_AWS_INSTANCE.WRANGLER_YN IS '랭글러 여부';
COMMENT ON COLUMN T_AWS_INSTANCE.DFLT_SETUP IS '기본 설정';
COMMENT ON COLUMN T_AWS_INSTANCE.MAX_SETUP IS '최대 설정';
COMMENT ON COLUMN T_AWS_INSTANCE.DFLT_LIST IS '기본 목록';
COMMENT ON COLUMN T_AWS_INSTANCE.ADVC_LIST IS '고급 목록';
COMMENT ON COLUMN T_AWS_INSTANCE.ORD_SEQ IS '정렬 순서';
COMMENT ON COLUMN T_AWS_INSTANCE.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_AWS_INSTANCE.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_AWS_INSTANCE.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_AWS_INSTANCE.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_AWS_INSTANCE.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_AWS_INSTANCE IS 'AWS 인스턴스[AWS 인스턴스 목록 정보]';



-- 업무    태블로 프로젝트
DROP TABLE IF EXISTS T_TABLEAU_PROJECT CASCADE;
CREATE TABLE IF NOT EXISTS T_TABLEAU_PROJECT (
    TABLEAU_PROJECT_ID VARCHAR(64) NOT NULL
  , TABLEAU_PROJECT_NM VARCHAR(200)
  , TABLEAU_PROJECT_DSC TEXT
  , UP_PROJECT_YN VARCHAR(1)
  , UP_TABLEAU_PROJECT_ID VARCHAR(64)
  , TABLEAU_USER_ID VARCHAR(64)
  , TABLEAU_PROJECT_AUTH VARCHAR(64)
  , TABLEAU_PROJECT_CNT NUMERIC(9,0)
  , TABLEAU_WORKBOOK_CNT NUMERIC(9,0)
  , TABLEAU_VIEW_CNT NUMERIC(9,0)
  , DATA_SRC_CNT NUMERIC(9,0)
  , DEPT_CODE VARCHAR(16)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , MODI_SE VARCHAR(32)
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_TABLEAU_PROJECT ADD CONSTRAINT T_TABLEAU_PROJECT_PK PRIMARY KEY(TABLEAU_PROJECT_ID);
--CREATE INDEX T_TABLEAU_PROJECT_IX1 ON T_TABLEAU_PROJECT();
COMMENT ON COLUMN T_TABLEAU_PROJECT.TABLEAU_PROJECT_ID IS '태블로 프로젝트 ID';
COMMENT ON COLUMN T_TABLEAU_PROJECT.TABLEAU_PROJECT_NM IS '태블로 프로젝트 명';
COMMENT ON COLUMN T_TABLEAU_PROJECT.TABLEAU_PROJECT_DSC IS '태블로 프로젝트 설명';
COMMENT ON COLUMN T_TABLEAU_PROJECT.UP_PROJECT_YN IS '상위 프로젝트 여부';
COMMENT ON COLUMN T_TABLEAU_PROJECT.UP_TABLEAU_PROJECT_ID IS '상위 태블로 프로젝트 ID';
COMMENT ON COLUMN T_TABLEAU_PROJECT.TABLEAU_USER_ID IS '태블로 사용자 ID';
COMMENT ON COLUMN T_TABLEAU_PROJECT.TABLEAU_PROJECT_AUTH IS '태블로 프로젝트 권한';
COMMENT ON COLUMN T_TABLEAU_PROJECT.TABLEAU_PROJECT_CNT IS '태블로 프로젝트 건수';
COMMENT ON COLUMN T_TABLEAU_PROJECT.TABLEAU_WORKBOOK_CNT IS '태블로 워크북 건수';
COMMENT ON COLUMN T_TABLEAU_PROJECT.TABLEAU_VIEW_CNT IS '태블로 뷰 건수';
COMMENT ON COLUMN T_TABLEAU_PROJECT.DATA_SRC_CNT IS '데이터 소스 건수';
COMMENT ON COLUMN T_TABLEAU_PROJECT.DEPT_CODE IS '부서 코드';
COMMENT ON COLUMN T_TABLEAU_PROJECT.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_TABLEAU_PROJECT.MODI_SE IS '수정 구분[I: 등록 / U: 수정 / D: 삭제 / C: 완료 / R: 삭제완료]';
COMMENT ON COLUMN T_TABLEAU_PROJECT.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_TABLEAU_PROJECT.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_TABLEAU_PROJECT.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_TABLEAU_PROJECT.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_TABLEAU_PROJECT IS '태블로 프로젝트[태블로 프로젝트 정보]';



-- 업무    태블로 워크북
DROP TABLE IF EXISTS T_TABLEAU_WORKBOOK CASCADE;
CREATE TABLE IF NOT EXISTS T_TABLEAU_WORKBOOK (
    TABLEAU_WORKBOOK_ID VARCHAR(64) NOT NULL
  , TABLEAU_WORKBOOK_NM VARCHAR(200)
  , TABLEAU_WORKBOOK_DSC TEXT
  , TABLEAU_WORKBOOK_URL VARCHAR(256)
  , TABLEAU_WEB_URL VARCHAR(256)
  , TABLEAU_VIEW_ID VARCHAR(64)
  , TABLEAU_PROJECT_ID VARCHAR(64)
  , TABLEAU_USER_ID VARCHAR(64)
  , FILE_ID VARCHAR(32)
  , FILE_URL VARCHAR(256)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , MODI_SE VARCHAR(32)
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_TABLEAU_WORKBOOK ADD CONSTRAINT T_TABLEAU_WORKBOOK_PK PRIMARY KEY(TABLEAU_WORKBOOK_ID);
--CREATE INDEX T_TABLEAU_WORKBOOK_IX1 ON T_TABLEAU_WORKBOOK();
COMMENT ON COLUMN T_TABLEAU_WORKBOOK.TABLEAU_WORKBOOK_ID IS '태블로 워크북 ID';
COMMENT ON COLUMN T_TABLEAU_WORKBOOK.TABLEAU_WORKBOOK_NM IS '태블로 워크북 명';
COMMENT ON COLUMN T_TABLEAU_WORKBOOK.TABLEAU_WORKBOOK_DSC IS '태블로 워크북 설명';
COMMENT ON COLUMN T_TABLEAU_WORKBOOK.TABLEAU_WORKBOOK_URL IS '태블로 워크북 URL';
COMMENT ON COLUMN T_TABLEAU_WORKBOOK.TABLEAU_WEB_URL IS '태블로 웹 URL';
COMMENT ON COLUMN T_TABLEAU_WORKBOOK.TABLEAU_VIEW_ID IS '태블로 뷰 ID[기본 태블로 뷰 ID]';
COMMENT ON COLUMN T_TABLEAU_WORKBOOK.TABLEAU_PROJECT_ID IS '태블로 프로젝트 ID';
COMMENT ON COLUMN T_TABLEAU_WORKBOOK.TABLEAU_USER_ID IS '태블로 사용자 ID';
COMMENT ON COLUMN T_TABLEAU_WORKBOOK.FILE_ID IS '파일 ID';
COMMENT ON COLUMN T_TABLEAU_WORKBOOK.FILE_URL IS '파일 URL';
COMMENT ON COLUMN T_TABLEAU_WORKBOOK.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_TABLEAU_WORKBOOK.MODI_SE IS '수정 구분[I: 등록 / U: 수정 / D: 삭제 / C: 완료 / R: 삭제완료]';
COMMENT ON COLUMN T_TABLEAU_WORKBOOK.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_TABLEAU_WORKBOOK.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_TABLEAU_WORKBOOK.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_TABLEAU_WORKBOOK.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_TABLEAU_WORKBOOK IS '태블로 워크북[태블로 워크북 정보]';



-- 업무    태블로 뷰
DROP TABLE IF EXISTS T_TABLEAU_VIEW CASCADE;
CREATE TABLE IF NOT EXISTS T_TABLEAU_VIEW (
    TABLEAU_VIEW_ID VARCHAR(64) NOT NULL
  , TABLEAU_VIEW_NM VARCHAR(200)
  , TABLEAU_VIEW_URL VARCHAR(256)
  , TABLEAU_WORKBOOK_ID VARCHAR(64)
  , TABLEAU_USER_ID VARCHAR(64)
  , FILE_ID VARCHAR(32)
  , FILE_URL VARCHAR(256)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , MODI_SE VARCHAR(32)
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_TABLEAU_VIEW ADD CONSTRAINT T_TABLEAU_VIEW_PK PRIMARY KEY(TABLEAU_VIEW_ID);
--CREATE INDEX T_TABLEAU_VIEW_IX1 ON T_TABLEAU_VIEW();
COMMENT ON COLUMN T_TABLEAU_VIEW.TABLEAU_VIEW_ID IS '태블로 뷰 ID';
COMMENT ON COLUMN T_TABLEAU_VIEW.TABLEAU_VIEW_NM IS '태블로 뷰 명';
COMMENT ON COLUMN T_TABLEAU_VIEW.TABLEAU_VIEW_URL IS '태블로 뷰 URL';
COMMENT ON COLUMN T_TABLEAU_VIEW.TABLEAU_WORKBOOK_ID IS '태블로 워크북 ID';
COMMENT ON COLUMN T_TABLEAU_VIEW.TABLEAU_USER_ID IS '태블로 사용자 ID';
COMMENT ON COLUMN T_TABLEAU_VIEW.FILE_ID IS '파일 ID';
COMMENT ON COLUMN T_TABLEAU_VIEW.FILE_URL IS '파일 URL';
COMMENT ON COLUMN T_TABLEAU_VIEW.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_TABLEAU_VIEW.MODI_SE IS '수정 구분[I: 등록 / U: 수정 / D: 삭제 / C: 완료 / R: 삭제완료]';
COMMENT ON COLUMN T_TABLEAU_VIEW.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_TABLEAU_VIEW.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_TABLEAU_VIEW.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_TABLEAU_VIEW.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_TABLEAU_VIEW IS '태블로 뷰[태블로 뷰 정보]';



-- 업무    태블로 사용자
DROP TABLE IF EXISTS T_TABLEAU_USER CASCADE;
CREATE TABLE IF NOT EXISTS T_TABLEAU_USER (
    TABLEAU_USER_ID VARCHAR(64) NOT NULL
  , TABLEAU_USER_NM VARCHAR(200)
  , USER_ID VARCHAR(32)
  , TABLEAU_PW VARCHAR(256)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , MODI_SE VARCHAR(32)
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_TABLEAU_USER ADD CONSTRAINT T_TABLEAU_USER_PK PRIMARY KEY(TABLEAU_USER_ID);
--CREATE INDEX T_TABLEAU_USER_IX1 ON T_TABLEAU_USER();
COMMENT ON COLUMN T_TABLEAU_USER.TABLEAU_USER_ID IS '태블로 사용자 ID';
COMMENT ON COLUMN T_TABLEAU_USER.TABLEAU_USER_NM IS '태블로 사용자 명';
COMMENT ON COLUMN T_TABLEAU_USER.USER_ID IS '사용자 ID';
COMMENT ON COLUMN T_TABLEAU_USER.TABLEAU_PW IS '태블로 비밀번호';
COMMENT ON COLUMN T_TABLEAU_USER.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_TABLEAU_USER.MODI_SE IS '수정 구분[I: 등록 / U: 수정 / D: 삭제 / C: 완료 / R: 삭제완료]';
COMMENT ON COLUMN T_TABLEAU_USER.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_TABLEAU_USER.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_TABLEAU_USER.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_TABLEAU_USER.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_TABLEAU_USER IS '태블로 사용자[태블로 사용자 정보]';



-- 업무    승인 요청
DROP TABLE IF EXISTS T_APRV_RQST CASCADE;
CREATE TABLE IF NOT EXISTS T_APRV_RQST (
    APRV_ID VARCHAR(32)
  , REF_ID VARCHAR(64)
  , REF_VER NUMERIC(9,3)
  , ROLE_SE VARCHAR(32)
  , REF_TY VARCHAR(16)
  , APRV_CL VARCHAR(32)
  , APRV_STAT VARCHAR(32)
  , APRV_DT TIMESTAMP
  , APRVR_ID VARCHAR(32)
  , RQST_INFO JSONB
  , RQST_RESN VARCHAR(2000)
  , RJCT_RESN VARCHAR(2000)
  , DOC_ID VARCHAR(128)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_APRV_RQST ADD CONSTRAINT T_APRV_RQST_PK PRIMARY KEY(APRV_ID);
CREATE INDEX T_APRV_RQST_IX1 ON T_APRV_RQST(APRV_CL, REF_ID, REF_VER);
COMMENT ON COLUMN T_APRV_RQST.APRV_ID IS '승인 ID';
COMMENT ON COLUMN T_APRV_RQST.REF_ID IS '참조 ID[프로젝트 ID / 보고서 ID / 사용자 ID]';
COMMENT ON COLUMN T_APRV_RQST.REF_VER IS '참조 버전[프로젝트 버전 / 보고서 버전]';
COMMENT ON COLUMN T_APRV_RQST.ROLE_SE IS '역할 구분';
COMMENT ON COLUMN T_APRV_RQST.REF_TY IS '참조 타입';
COMMENT ON COLUMN T_APRV_RQST.APRV_CL IS '승인 분류[프로젝트 야간 사용 / 보고서 권한 / 사용자 권한 등등]';
COMMENT ON COLUMN T_APRV_RQST.APRV_STAT IS '승인 상태[마지막 결재 상태]';
COMMENT ON COLUMN T_APRV_RQST.APRV_DT IS '승인 일시[마지막 결재 일시]';
COMMENT ON COLUMN T_APRV_RQST.APRVR_ID IS '승인자 ID[마지막 승인자 ID]';
COMMENT ON COLUMN T_APRV_RQST.RQST_INFO IS '요청 정보[승인 상세 정보]';
COMMENT ON COLUMN T_APRV_RQST.RQST_RESN IS '요청 사유';
COMMENT ON COLUMN T_APRV_RQST.RJCT_RESN IS '반려 사유';
COMMENT ON COLUMN T_APRV_RQST.DOC_ID IS '문서 ID[결재 시스템 식별 정보]';
COMMENT ON COLUMN T_APRV_RQST.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_APRV_RQST.RGST_ID IS '등록 ID[승인 신청자 ID]';
COMMENT ON COLUMN T_APRV_RQST.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_APRV_RQST.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_APRV_RQST.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_APRV_RQST IS '승인 요청[프로젝트 야간사용, 보고서 권한, 사용자 권한, 데이터 권한 등 승인 정보]';



-- 업무    승인 요청 상세
DROP TABLE IF EXISTS T_APRV_RQST_DTL CASCADE;
CREATE TABLE IF NOT EXISTS T_APRV_RQST_DTL (
    APRV_ID VARCHAR(32)
  , APRV_SEQ NUMERIC(9,0)
  , APRV_SE VARCHAR(32)
  , APRV_STAT VARCHAR(32)
  , APRV_DT TIMESTAMP
  , APRVR_ID VARCHAR(32)
  , APRVR_NM VARCHAR(100)
  , RJCT_RESN VARCHAR(2000)
  , DEPT_CODE VARCHAR(16)
  , DEPT_NM VARCHAR(100)
  , PSTN_CODE VARCHAR(16)
  , PSTN_NM VARCHAR(100)
  , USE_YN VARCHAR(1) DEFAULT 'N'
  , RGST_ID VARCHAR(32) NOT NULL
  , RGST_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
  , MODI_ID VARCHAR(32) NOT NULL
  , MODI_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
ALTER TABLE T_APRV_RQST_DTL ADD CONSTRAINT T_APRV_RQST_DTL_PK PRIMARY KEY(APRV_ID, APRV_SEQ);
--CREATE INDEX T_APRV_RQST_DTL_IX1 ON T_APRV_RQST_DTL();
COMMENT ON COLUMN T_APRV_RQST_DTL.APRV_ID IS '승인 ID';
COMMENT ON COLUMN T_APRV_RQST_DTL.APRV_SEQ IS '승인 순서';
COMMENT ON COLUMN T_APRV_RQST_DTL.APRV_SE IS '승인 구분[T_CODE.GROUP_ID : APRV_MTHD_GW]';
COMMENT ON COLUMN T_APRV_RQST_DTL.APRV_STAT IS '승인 상태[T_CODE.GROUP_ID : APRV_STAT_GW]';
COMMENT ON COLUMN T_APRV_RQST_DTL.APRV_DT IS '승인 일시';
COMMENT ON COLUMN T_APRV_RQST_DTL.APRVR_ID IS '승인자 ID';
COMMENT ON COLUMN T_APRV_RQST_DTL.APRVR_NM IS '승인자 명';
COMMENT ON COLUMN T_APRV_RQST_DTL.RJCT_RESN IS '반려 사유';
COMMENT ON COLUMN T_APRV_RQST_DTL.DEPT_CODE IS '부서 코드';
COMMENT ON COLUMN T_APRV_RQST_DTL.DEPT_NM IS '부서 명';
COMMENT ON COLUMN T_APRV_RQST_DTL.PSTN_CODE IS '직위 코드';
COMMENT ON COLUMN T_APRV_RQST_DTL.PSTN_NM IS '직위 명';
COMMENT ON COLUMN T_APRV_RQST_DTL.USE_YN IS '사용 여부';
COMMENT ON COLUMN T_APRV_RQST_DTL.RGST_ID IS '등록 ID';
COMMENT ON COLUMN T_APRV_RQST_DTL.RGST_DT IS '등록 일시';
COMMENT ON COLUMN T_APRV_RQST_DTL.MODI_ID IS '수정 ID';
COMMENT ON COLUMN T_APRV_RQST_DTL.MODI_DT IS '수정 일시';
COMMENT ON TABLE T_APRV_RQST_DTL IS '승인 요청 상세[프로젝트 야간사용, 보고서 권한, 사용자 권한, 데이터 권한 등 승인 상세 정보]';


